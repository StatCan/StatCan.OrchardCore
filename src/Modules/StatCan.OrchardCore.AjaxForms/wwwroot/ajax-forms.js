/*
** NOTE: This file is generated by Gulp and should not be edited directly!
** Any changes made directly to this file will be overwritten next time its asset group is processed by Gulp.
*/

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

// Unobtrusive validation support library for jQuery and jQuery Validate
// Copyright (c) .NET Foundation. All rights reserved.
// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.
// @version <placeholder>

/*jslint white: true, browser: true, onevar: true, undef: true, nomen: true, eqeqeq: true, plusplus: true, bitwise: true, regexp: true, newcap: true, immed: true, strict: false */

/*global document: false, jQuery: false */
(function (factory) {
  if (typeof define === 'function' && define.amd) {
    // AMD. Register as an anonymous module.
    define("jquery.validate.unobtrusive", ['jquery-validation'], factory);
  } else if ((typeof module === "undefined" ? "undefined" : _typeof(module)) === 'object' && module.exports) {
    // CommonJS-like environments that support module.exports     
    module.exports = factory(require('jquery-validation'));
  } else {
    // Browser global
    jQuery.validator.unobtrusive = factory(jQuery);
  }
})(function ($) {
  var $jQval = $.validator,
      adapters,
      data_validation = "unobtrusiveValidation";

  function setValidationValues(options, ruleName, value) {
    options.rules[ruleName] = value;

    if (options.message) {
      options.messages[ruleName] = options.message;
    }
  }

  function splitAndTrim(value) {
    return value.replace(/^\s+|\s+$/g, "").split(/\s*,\s*/g);
  }

  function escapeAttributeValue(value) {
    // As mentioned on http://api.jquery.com/category/selectors/
    return value.replace(/([!"#$%&'()*+,./:;<=>?@\[\\\]^`{|}~])/g, "\\$1");
  }

  function getModelPrefix(fieldName) {
    return fieldName.substr(0, fieldName.lastIndexOf(".") + 1);
  }

  function appendModelPrefix(value, prefix) {
    if (value.indexOf("*.") === 0) {
      value = value.replace("*.", prefix);
    }

    return value;
  }

  function onError(error, inputElement) {
    // 'this' is the form element
    var container = $(this).find("[data-valmsg-for='" + escapeAttributeValue(inputElement[0].name) + "']"),
        replaceAttrValue = container.attr("data-valmsg-replace"),
        replace = replaceAttrValue ? $.parseJSON(replaceAttrValue) !== false : null;
    container.removeClass("field-validation-valid").addClass("field-validation-error");
    error.data("unobtrusiveContainer", container);

    if (replace) {
      container.empty();
      error.removeClass("input-validation-error").appendTo(container);
    } else {
      error.hide();
    }
  }

  function onErrors(event, validator) {
    // 'this' is the form element
    var container = $(this).find("[data-valmsg-summary=true]"),
        list = container.find("ul");

    if (list && list.length && validator.errorList.length) {
      list.empty();
      container.addClass("validation-summary-errors").removeClass("validation-summary-valid");
      $.each(validator.errorList, function () {
        $("<li />").html(this.message).appendTo(list);
      });
    }
  }

  function onSuccess(error) {
    // 'this' is the form element
    var container = error.data("unobtrusiveContainer");

    if (container) {
      var replaceAttrValue = container.attr("data-valmsg-replace"),
          replace = replaceAttrValue ? $.parseJSON(replaceAttrValue) : null;
      container.addClass("field-validation-valid").removeClass("field-validation-error");
      error.removeData("unobtrusiveContainer");

      if (replace) {
        container.empty();
      }
    }
  }

  function onReset(event) {
    // 'this' is the form element
    var $form = $(this),
        key = '__jquery_unobtrusive_validation_form_reset';

    if ($form.data(key)) {
      return;
    } // Set a flag that indicates we're currently resetting the form.


    $form.data(key, true);

    try {
      $form.data("validator").resetForm();
    } finally {
      $form.removeData(key);
    }

    $form.find(".validation-summary-errors").addClass("validation-summary-valid").removeClass("validation-summary-errors");
    $form.find(".field-validation-error").addClass("field-validation-valid").removeClass("field-validation-error").removeData("unobtrusiveContainer").find(">*") // If we were using valmsg-replace, get the underlying error
    .removeData("unobtrusiveContainer");
  }

  function validationInfo(form) {
    var $form = $(form),
        result = $form.data(data_validation),
        onResetProxy = $.proxy(onReset, form),
        defaultOptions = $jQval.unobtrusive.options || {},
        execInContext = function execInContext(name, args) {
      var func = defaultOptions[name];
      func && $.isFunction(func) && func.apply(form, args);
    };

    if (!result) {
      result = {
        options: {
          // options structure passed to jQuery Validate's validate() method
          errorClass: defaultOptions.errorClass || "input-validation-error",
          errorElement: defaultOptions.errorElement || "span",
          errorPlacement: function errorPlacement() {
            onError.apply(form, arguments);
            execInContext("errorPlacement", arguments);
          },
          invalidHandler: function invalidHandler() {
            onErrors.apply(form, arguments);
            execInContext("invalidHandler", arguments);
          },
          messages: {},
          rules: {},
          success: function success() {
            onSuccess.apply(form, arguments);
            execInContext("success", arguments);
          }
        },
        attachValidation: function attachValidation() {
          $form.off("reset." + data_validation, onResetProxy).on("reset." + data_validation, onResetProxy).validate(this.options);
        },
        validate: function validate() {
          // a validation function that is called by unobtrusive Ajax
          $form.validate();
          return $form.valid();
        }
      };
      $form.data(data_validation, result);
    }

    return result;
  }

  $jQval.unobtrusive = {
    adapters: [],
    parseElement: function parseElement(element, skipAttach) {
      /// <summary>
      /// Parses a single HTML element for unobtrusive validation attributes.
      /// </summary>
      /// <param name="element" domElement="true">The HTML element to be parsed.</param>
      /// <param name="skipAttach" type="Boolean">[Optional] true to skip attaching the
      /// validation to the form. If parsing just this single element, you should specify true.
      /// If parsing several elements, you should specify false, and manually attach the validation
      /// to the form when you are finished. The default is false.</param>
      var $element = $(element),
          form = $element.parents("form")[0],
          valInfo,
          rules,
          messages;

      if (!form) {
        // Cannot do client-side validation without a form
        return;
      }

      valInfo = validationInfo(form);
      valInfo.options.rules[element.name] = rules = {};
      valInfo.options.messages[element.name] = messages = {};
      $.each(this.adapters, function () {
        var prefix = "data-val-" + this.name,
            message = $element.attr(prefix),
            paramValues = {};

        if (message !== undefined) {
          // Compare against undefined, because an empty message is legal (and falsy)
          prefix += "-";
          $.each(this.params, function () {
            paramValues[this] = $element.attr(prefix + this);
          });
          this.adapt({
            element: element,
            form: form,
            message: message,
            params: paramValues,
            rules: rules,
            messages: messages
          });
        }
      });
      $.extend(rules, {
        "__dummy__": true
      });

      if (!skipAttach) {
        valInfo.attachValidation();
      }
    },
    parse: function parse(selector) {
      /// <summary>
      /// Parses all the HTML elements in the specified selector. It looks for input elements decorated
      /// with the [data-val=true] attribute value and enables validation according to the data-val-*
      /// attribute values.
      /// </summary>
      /// <param name="selector" type="String">Any valid jQuery selector.</param>
      // $forms includes all forms in selector's DOM hierarchy (parent, children and self) that have at least one
      // element with data-val=true
      var $selector = $(selector),
          $forms = $selector.parents().addBack().filter("form").add($selector.find("form")).has("[data-val=true]");
      $selector.find("[data-val=true]").each(function () {
        $jQval.unobtrusive.parseElement(this, true);
      });
      $forms.each(function () {
        var info = validationInfo(this);

        if (info) {
          info.attachValidation();
        }
      });
    }
  };
  adapters = $jQval.unobtrusive.adapters;

  adapters.add = function (adapterName, params, fn) {
    /// <summary>Adds a new adapter to convert unobtrusive HTML into a jQuery Validate validation.</summary>
    /// <param name="adapterName" type="String">The name of the adapter to be added. This matches the name used
    /// in the data-val-nnnn HTML attribute (where nnnn is the adapter name).</param>
    /// <param name="params" type="Array" optional="true">[Optional] An array of parameter names (strings) that will
    /// be extracted from the data-val-nnnn-mmmm HTML attributes (where nnnn is the adapter name, and
    /// mmmm is the parameter name).</param>
    /// <param name="fn" type="Function">The function to call, which adapts the values from the HTML
    /// attributes into jQuery Validate rules and/or messages.</param>
    /// <returns type="jQuery.validator.unobtrusive.adapters" />
    if (!fn) {
      // Called with no params, just a function
      fn = params;
      params = [];
    }

    this.push({
      name: adapterName,
      params: params,
      adapt: fn
    });
    return this;
  };

  adapters.addBool = function (adapterName, ruleName) {
    /// <summary>Adds a new adapter to convert unobtrusive HTML into a jQuery Validate validation, where
    /// the jQuery Validate validation rule has no parameter values.</summary>
    /// <param name="adapterName" type="String">The name of the adapter to be added. This matches the name used
    /// in the data-val-nnnn HTML attribute (where nnnn is the adapter name).</param>
    /// <param name="ruleName" type="String" optional="true">[Optional] The name of the jQuery Validate rule. If not provided, the value
    /// of adapterName will be used instead.</param>
    /// <returns type="jQuery.validator.unobtrusive.adapters" />
    return this.add(adapterName, function (options) {
      setValidationValues(options, ruleName || adapterName, true);
    });
  };

  adapters.addMinMax = function (adapterName, minRuleName, maxRuleName, minMaxRuleName, minAttribute, maxAttribute) {
    /// <summary>Adds a new adapter to convert unobtrusive HTML into a jQuery Validate validation, where
    /// the jQuery Validate validation has three potential rules (one for min-only, one for max-only, and
    /// one for min-and-max). The HTML parameters are expected to be named -min and -max.</summary>
    /// <param name="adapterName" type="String">The name of the adapter to be added. This matches the name used
    /// in the data-val-nnnn HTML attribute (where nnnn is the adapter name).</param>
    /// <param name="minRuleName" type="String">The name of the jQuery Validate rule to be used when you only
    /// have a minimum value.</param>
    /// <param name="maxRuleName" type="String">The name of the jQuery Validate rule to be used when you only
    /// have a maximum value.</param>
    /// <param name="minMaxRuleName" type="String">The name of the jQuery Validate rule to be used when you
    /// have both a minimum and maximum value.</param>
    /// <param name="minAttribute" type="String" optional="true">[Optional] The name of the HTML attribute that
    /// contains the minimum value. The default is "min".</param>
    /// <param name="maxAttribute" type="String" optional="true">[Optional] The name of the HTML attribute that
    /// contains the maximum value. The default is "max".</param>
    /// <returns type="jQuery.validator.unobtrusive.adapters" />
    return this.add(adapterName, [minAttribute || "min", maxAttribute || "max"], function (options) {
      var min = options.params.min,
          max = options.params.max;

      if (min && max) {
        setValidationValues(options, minMaxRuleName, [min, max]);
      } else if (min) {
        setValidationValues(options, minRuleName, min);
      } else if (max) {
        setValidationValues(options, maxRuleName, max);
      }
    });
  };

  adapters.addSingleVal = function (adapterName, attribute, ruleName) {
    /// <summary>Adds a new adapter to convert unobtrusive HTML into a jQuery Validate validation, where
    /// the jQuery Validate validation rule has a single value.</summary>
    /// <param name="adapterName" type="String">The name of the adapter to be added. This matches the name used
    /// in the data-val-nnnn HTML attribute(where nnnn is the adapter name).</param>
    /// <param name="attribute" type="String">[Optional] The name of the HTML attribute that contains the value.
    /// The default is "val".</param>
    /// <param name="ruleName" type="String" optional="true">[Optional] The name of the jQuery Validate rule. If not provided, the value
    /// of adapterName will be used instead.</param>
    /// <returns type="jQuery.validator.unobtrusive.adapters" />
    return this.add(adapterName, [attribute || "val"], function (options) {
      setValidationValues(options, ruleName || adapterName, options.params[attribute]);
    });
  };

  $jQval.addMethod("__dummy__", function (value, element, params) {
    return true;
  });
  $jQval.addMethod("regex", function (value, element, params) {
    var match;

    if (this.optional(element)) {
      return true;
    }

    match = new RegExp(params).exec(value);
    return match && match.index === 0 && match[0].length === value.length;
  });
  $jQval.addMethod("nonalphamin", function (value, element, nonalphamin) {
    var match;

    if (nonalphamin) {
      match = value.match(/\W/g);
      match = match && match.length >= nonalphamin;
    }

    return match;
  });

  if ($jQval.methods.extension) {
    adapters.addSingleVal("accept", "mimtype");
    adapters.addSingleVal("extension", "extension");
  } else {
    // for backward compatibility, when the 'extension' validation method does not exist, such as with versions
    // of JQuery Validation plugin prior to 1.10, we should use the 'accept' method for
    // validating the extension, and ignore mime-type validations as they are not supported.
    adapters.addSingleVal("extension", "extension", "accept");
  }

  adapters.addSingleVal("regex", "pattern");
  adapters.addBool("creditcard").addBool("date").addBool("digits").addBool("email").addBool("number").addBool("url");
  adapters.addMinMax("length", "minlength", "maxlength", "rangelength").addMinMax("range", "min", "max", "range");
  adapters.addMinMax("minlength", "minlength").addMinMax("maxlength", "minlength", "maxlength");
  adapters.add("equalto", ["other"], function (options) {
    var prefix = getModelPrefix(options.element.name),
        other = options.params.other,
        fullOtherName = appendModelPrefix(other, prefix),
        element = $(options.form).find(":input").filter("[name='" + escapeAttributeValue(fullOtherName) + "']")[0];
    setValidationValues(options, "equalTo", element);
  });
  adapters.add("required", function (options) {
    // jQuery Validate equates "required" with "mandatory" for checkbox elements
    if (options.element.tagName.toUpperCase() !== "INPUT" || options.element.type.toUpperCase() !== "CHECKBOX") {
      setValidationValues(options, "required", true);
    }
  });
  adapters.add("remote", ["url", "type", "additionalfields"], function (options) {
    var value = {
      url: options.params.url,
      type: options.params.type || "GET",
      data: {}
    },
        prefix = getModelPrefix(options.element.name);
    $.each(splitAndTrim(options.params.additionalfields || options.element.name), function (i, fieldName) {
      var paramName = appendModelPrefix(fieldName, prefix);

      value.data[paramName] = function () {
        var field = $(options.form).find(":input").filter("[name='" + escapeAttributeValue(paramName) + "']"); // For checkboxes and radio buttons, only pick up values from checked fields.

        if (field.is(":checkbox")) {
          return field.filter(":checked").val() || field.filter(":hidden").val() || '';
        } else if (field.is(":radio")) {
          return field.filter(":checked").val() || '';
        }

        return field.val();
      };
    });
    setValidationValues(options, "remote", value);
  });
  adapters.add("password", ["min", "nonalphamin", "regex"], function (options) {
    if (options.params.min) {
      setValidationValues(options, "minlength", options.params.min);
    }

    if (options.params.nonalphamin) {
      setValidationValues(options, "nonalphamin", options.params.nonalphamin);
    }

    if (options.params.regex) {
      setValidationValues(options, "regex", options.params.regex);
    }
  });
  adapters.add("fileextensions", ["extensions"], function (options) {
    setValidationValues(options, "extension", options.params.extensions);
  }); // Remove automatic parsing of document and rely on our custom JS
  //$(function () {
  //  $jQval.unobtrusive.parse(document);
  //});

  return $jQval.unobtrusive;
});
(function ($) {
  "use strict"; // set valid / error classes for the input to be bs4 classes

  var settings = {
    //validClass: "is-valid", //This is disabled, we do not want to highlight valid inputs.
    errorClass: "is-invalid",
    onkeyup: false,
    onfocusout: false,
    onclick: false
  };
  $.validator.setDefaults(settings);
  $.validator.unobtrusive.options = settings; //IE Polyfill for forEach on NodeList

  if (window.NodeList && !NodeList.prototype.forEach) {
    NodeList.prototype.forEach = function (callback, thisArg) {
      thisArg = thisArg || window;

      for (var i = 0; i < this.length; i++) {
        callback.call(thisArg, this[i], i, this);
      }
    };
  }

  function initForm(form) {
    var $form = $(form); // parse the form with unobtrusive library 

    $.validator.unobtrusive.parse($form);
    var formId = $form.attr("id");
    $form.submit(function (event) {
      if ($form.valid()) {
        // form has been validated by jQuery validation
        event.preventDefault();
        event.stopPropagation(); // disable elements that have the data-disable-submit attribute

        var toDisable = form.querySelectorAll("[data-disable-submit='true']");
        toDisable.forEach(function (x) {
          return x.setAttribute('disabled', true);
        });
        var serializedForm = $form.serialize(); // Post to the form controller

        $.ajax({
          type: "POST",
          url: form.action,
          data: serializedForm,
          cache: false,
          dataType: "json",
          success: function success(data) {
            if (data.error) {
              // Server side validation can occur, form is re-rendered
              $form.replaceWith(data.html); // need to reparse the form

              initForm(document.getElementById(formId)); //TODO: focus on first error or validation summary
            } // if the server sends a redirect, reload the window


            if (data.redirect) {
              window.location.href = data.redirect;
            } //TODO: Handle default success case, maybe show some

          },
          error: function error(xhr) {
            // todo: handle this case gracefully, usually in the case of server error.
            var data = xhr.responseJSON;
            console.log("error", data);
          }
        });
      }
    });
  }

  $(document).ready(function () {
    // look for all ajax forms on load and initialize them
    document.querySelectorAll(".ajax-form").forEach(initForm);
  });
})(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS12YWxpZGF0aW9uLXVub2J0cnVzaXZlLmpzIiwiYWpheC1mb3Jtcy5qcyJdLCJuYW1lcyI6WyJmYWN0b3J5IiwiZGVmaW5lIiwiYW1kIiwibW9kdWxlIiwiZXhwb3J0cyIsInJlcXVpcmUiLCJqUXVlcnkiLCJ2YWxpZGF0b3IiLCJ1bm9idHJ1c2l2ZSIsIiQiLCIkalF2YWwiLCJhZGFwdGVycyIsImRhdGFfdmFsaWRhdGlvbiIsInNldFZhbGlkYXRpb25WYWx1ZXMiLCJvcHRpb25zIiwicnVsZU5hbWUiLCJ2YWx1ZSIsInJ1bGVzIiwibWVzc2FnZSIsIm1lc3NhZ2VzIiwic3BsaXRBbmRUcmltIiwicmVwbGFjZSIsInNwbGl0IiwiZXNjYXBlQXR0cmlidXRlVmFsdWUiLCJnZXRNb2RlbFByZWZpeCIsImZpZWxkTmFtZSIsInN1YnN0ciIsImxhc3RJbmRleE9mIiwiYXBwZW5kTW9kZWxQcmVmaXgiLCJwcmVmaXgiLCJpbmRleE9mIiwib25FcnJvciIsImVycm9yIiwiaW5wdXRFbGVtZW50IiwiY29udGFpbmVyIiwiZmluZCIsIm5hbWUiLCJyZXBsYWNlQXR0clZhbHVlIiwiYXR0ciIsInBhcnNlSlNPTiIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJkYXRhIiwiZW1wdHkiLCJhcHBlbmRUbyIsImhpZGUiLCJvbkVycm9ycyIsImV2ZW50IiwibGlzdCIsImxlbmd0aCIsImVycm9yTGlzdCIsImVhY2giLCJodG1sIiwib25TdWNjZXNzIiwicmVtb3ZlRGF0YSIsIm9uUmVzZXQiLCIkZm9ybSIsImtleSIsInJlc2V0Rm9ybSIsInZhbGlkYXRpb25JbmZvIiwiZm9ybSIsInJlc3VsdCIsIm9uUmVzZXRQcm94eSIsInByb3h5IiwiZGVmYXVsdE9wdGlvbnMiLCJleGVjSW5Db250ZXh0IiwiYXJncyIsImZ1bmMiLCJpc0Z1bmN0aW9uIiwiYXBwbHkiLCJlcnJvckNsYXNzIiwiZXJyb3JFbGVtZW50IiwiZXJyb3JQbGFjZW1lbnQiLCJhcmd1bWVudHMiLCJpbnZhbGlkSGFuZGxlciIsInN1Y2Nlc3MiLCJhdHRhY2hWYWxpZGF0aW9uIiwib2ZmIiwib24iLCJ2YWxpZGF0ZSIsInZhbGlkIiwicGFyc2VFbGVtZW50IiwiZWxlbWVudCIsInNraXBBdHRhY2giLCIkZWxlbWVudCIsInBhcmVudHMiLCJ2YWxJbmZvIiwicGFyYW1WYWx1ZXMiLCJ1bmRlZmluZWQiLCJwYXJhbXMiLCJhZGFwdCIsImV4dGVuZCIsInBhcnNlIiwic2VsZWN0b3IiLCIkc2VsZWN0b3IiLCIkZm9ybXMiLCJhZGRCYWNrIiwiZmlsdGVyIiwiYWRkIiwiaGFzIiwiaW5mbyIsImFkYXB0ZXJOYW1lIiwiZm4iLCJwdXNoIiwiYWRkQm9vbCIsImFkZE1pbk1heCIsIm1pblJ1bGVOYW1lIiwibWF4UnVsZU5hbWUiLCJtaW5NYXhSdWxlTmFtZSIsIm1pbkF0dHJpYnV0ZSIsIm1heEF0dHJpYnV0ZSIsIm1pbiIsIm1heCIsImFkZFNpbmdsZVZhbCIsImF0dHJpYnV0ZSIsImFkZE1ldGhvZCIsIm1hdGNoIiwib3B0aW9uYWwiLCJSZWdFeHAiLCJleGVjIiwiaW5kZXgiLCJub25hbHBoYW1pbiIsIm1ldGhvZHMiLCJleHRlbnNpb24iLCJvdGhlciIsImZ1bGxPdGhlck5hbWUiLCJ0YWdOYW1lIiwidG9VcHBlckNhc2UiLCJ0eXBlIiwidXJsIiwiYWRkaXRpb25hbGZpZWxkcyIsImkiLCJwYXJhbU5hbWUiLCJmaWVsZCIsImlzIiwidmFsIiwicmVnZXgiLCJleHRlbnNpb25zIiwic2V0dGluZ3MiLCJvbmtleXVwIiwib25mb2N1c291dCIsIm9uY2xpY2siLCJzZXREZWZhdWx0cyIsIndpbmRvdyIsIk5vZGVMaXN0IiwicHJvdG90eXBlIiwiZm9yRWFjaCIsImNhbGxiYWNrIiwidGhpc0FyZyIsImNhbGwiLCJpbml0Rm9ybSIsImZvcm1JZCIsInN1Ym1pdCIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwidG9EaXNhYmxlIiwicXVlcnlTZWxlY3RvckFsbCIsIngiLCJzZXRBdHRyaWJ1dGUiLCJzZXJpYWxpemVkRm9ybSIsInNlcmlhbGl6ZSIsImFqYXgiLCJhY3Rpb24iLCJjYWNoZSIsImRhdGFUeXBlIiwicmVwbGFjZVdpdGgiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwicmVkaXJlY3QiLCJsb2NhdGlvbiIsImhyZWYiLCJ4aHIiLCJyZXNwb25zZUpTT04iLCJjb25zb2xlIiwibG9nIiwicmVhZHkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFDQTtBQUVDLFdBQVVBLE9BQVYsRUFBbUI7QUFDbEIsTUFBSSxPQUFPQyxNQUFQLEtBQWtCLFVBQWxCLElBQWdDQSxNQUFNLENBQUNDLEdBQTNDLEVBQWdEO0FBQzlDO0FBQ0FELElBQUFBLE1BQU0sQ0FBQyw2QkFBRCxFQUFnQyxDQUFDLG1CQUFELENBQWhDLEVBQXVERCxPQUF2RCxDQUFOO0FBQ0QsR0FIRCxNQUdPLElBQUksUUFBT0csTUFBUCx5Q0FBT0EsTUFBUCxPQUFrQixRQUFsQixJQUE4QkEsTUFBTSxDQUFDQyxPQUF6QyxFQUFrRDtBQUN2RDtBQUNBRCxJQUFBQSxNQUFNLENBQUNDLE9BQVAsR0FBaUJKLE9BQU8sQ0FBQ0ssT0FBTyxDQUFDLG1CQUFELENBQVIsQ0FBeEI7QUFDRCxHQUhNLE1BR0E7QUFDTDtBQUNBQyxJQUFBQSxNQUFNLENBQUNDLFNBQVAsQ0FBaUJDLFdBQWpCLEdBQStCUixPQUFPLENBQUNNLE1BQUQsQ0FBdEM7QUFDRDtBQUNGLENBWEEsRUFXQyxVQUFVRyxDQUFWLEVBQWE7QUFDYixNQUFJQyxNQUFNLEdBQUdELENBQUMsQ0FBQ0YsU0FBZjtBQUFBLE1BQ0VJLFFBREY7QUFBQSxNQUVFQyxlQUFlLEdBQUcsdUJBRnBCOztBQUlBLFdBQVNDLG1CQUFULENBQTZCQyxPQUE3QixFQUFzQ0MsUUFBdEMsRUFBZ0RDLEtBQWhELEVBQXVEO0FBQ3JERixJQUFBQSxPQUFPLENBQUNHLEtBQVIsQ0FBY0YsUUFBZCxJQUEwQkMsS0FBMUI7O0FBQ0EsUUFBSUYs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TWpJLElBQUksR0FBR2lJLEdBQUcsQ0FBQ0MsWUFBakI7QUFDQUMsWUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksT0FBWixFQUFxQnBJLElBQXJCO0FBQ0Q7QUE1QkksU0FBUDtBQThCRDtBQUNGLEtBM0NIO0FBNkNEOztBQUVEakMsRUFBQUEsQ0FBQyxDQUFDNkosUUFBRCxDQUFELENBQVlTLEtBQVosQ0FBa0IsWUFBWTtBQUM1QjtBQUNBVCxJQUFBQSxRQUFRLENBQUNWLGdCQUFULENBQTBCLFlBQTFCLEVBQXdDVixPQUF4QyxDQUFnREksUUFBaEQ7QUFDRCxHQUhEO0FBSUQsQ0FsRkQsRUFrRkdoSixNQWxGSCIsImZpbGUiOiJhamF4LWZvcm1zLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gVW5vYnRydXNpdmUgdmFsaWRhdGlvbiBzdXBwb3J0IGxpYnJhcnkgZm9yIGpRdWVyeSBhbmQgalF1ZXJ5IFZhbGlkYXRlXHJcbi8vIENvcHlyaWdodCAoYykgLk5FVCBGb3VuZGF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cclxuLy8gQHZlcnNpb24gPHBsYWNlaG9sZGVyPlxyXG5cclxuLypqc2xpbnQgd2hpdGU6IHRydWUsIGJyb3dzZXI6IHRydWUsIG9uZXZhcjogdHJ1ZSwgdW5kZWY6IHRydWUsIG5vbWVuOiB0cnVlLCBlcWVxZXE6IHRydWUsIHBsdXNwbHVzOiB0cnVlLCBiaXR3aXNlOiB0cnVlLCByZWdleHA6IHRydWUsIG5ld2NhcDogdHJ1ZSwgaW1tZWQ6IHRydWUsIHN0cmljdDogZmFsc2UgKi9cclxuLypnbG9iYWwgZG9jdW1lbnQ6IGZhbHNlLCBqUXVlcnk6IGZhbHNlICovXHJcblxyXG4oZnVuY3Rpb24gKGZhY3RvcnkpIHtcclxuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XHJcbiAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXHJcbiAgICBkZWZpbmUoXCJqcXVlcnkudmFsaWRhdGUudW5vYnRydXNpdmVcIiwgWydqcXVlcnktdmFsaWRhdGlvbiddLCBmYWN0b3J5KTtcclxuICB9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzKSB7XHJcbiAgICAvLyBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMgICAgIFxyXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoJ2pxdWVyeS12YWxpZGF0aW9uJykpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyBCcm93c2VyIGdsb2JhbFxyXG4gICAgalF1ZXJ5LnZhbGlkYXRvci51bm9idHJ1c2l2ZSA9IGZhY3RvcnkoalF1ZXJ5KTtcclxuICB9XHJcbn0oZnVuY3Rpb24gKCQpIHtcclxuICB2YXIgJGpRdmFsID0gJC52YWxpZGF0b3IsXHJcbiAgICBhZGFwdGVycyxcclxuICAgIGRhdGFfdmFsaWRhdGlvbiA9IFwidW5vYnRydXNpdmVWYWxpZGF0aW9uXCI7XHJcblxyXG4gIGZ1bmN0aW9uIHNldFZhbGlkYXRpb25WYWx1ZXMob3B0aW9ucywgcnVsZU5hbWUsIHZhbHVlKSB7XHJcbiAgICBvcHRpb25zLnJ1bGVzW3J1bGVOYW1lXSA9IHZhbHVlO1xyXG4gICAgaWYgKG9wdGlvbnMubWVzc2FnZSkge1xyXG4gICAgICBvcHRpb25zLm1lc3NhZ2VzW3J1bGVOYW1lXSA9IG9wdGlvbnMubWVzc2FnZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHNwbGl0QW5kVHJpbSh2YWx1ZSkge1xyXG4gICAgcmV0dXJuIHZhbHVlLnJlcGxhY2UoL15cXHMrfFxccyskL2csIFwiXCIpLnNwbGl0KC9cXHMqLFxccyovZyk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBlc2NhcGVBdHRyaWJ1dGVWYWx1ZSh2YWx1ZSkge1xyXG4gICAgLy8gQXMgbWVudGlvbmVkIG9uIGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9jYXRlZ29yeS9zZWxlY3RvcnMvXHJcbiAgICByZXR1cm4gdmFsdWUucmVwbGFjZSgvKFshXCIjJCUmJygpKissLi86Ozw9Pj9AXFxbXFxcXFxcXV5ge3x9fl0pL2csIFwiXFxcXCQxXCIpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZ2V0TW9kZWxQcmVmaXgoZmllbGROYW1lKSB7XHJcbiAgICByZXR1cm4gZmllbGROYW1lLnN1YnN0cigwLCBmaWVsZE5hbWUubGFzdEluZGV4T2YoXCIuXCIpICsgMSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBhcHBlbmRNb2RlbFByZWZpeCh2YWx1ZSwgcHJlZml4KSB7XHJcbiAgICBpZiAodmFsdWUuaW5kZXhPZihcIiouXCIpID09PSAwKSB7XHJcbiAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZShcIiouXCIsIHByZWZpeCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBvbkVycm9yKGVycm9yLCBpbnB1dEVsZW1lbnQpIHsgIC8vICd0aGlzJyBpcyB0aGUgZm9ybSBlbGVtZW50XHJcbiAgICB2YXIgY29udGFpbmVyID0gJCh0aGlzKS5maW5kKFwiW2RhdGEtdmFsbXNnLWZvcj0nXCIgKyBlc2NhcGVBdHRyaWJ1dGVWYWx1ZShpbnB1dEVsZW1lbnRbMF0ubmFtZSkgKyBcIiddXCIpLFxyXG4gICAgICByZXBsYWNlQXR0clZhbHVlID0gY29udGFpbmVyLmF0dHIoXCJkYXRhLXZhbG1zZy1yZXBsYWNlXCIpLFxyXG4gICAgICByZXBsYWNlID0gcmVwbGFjZUF0dHJWYWx1ZSA/ICQucGFyc2VKU09OKHJlcGxhY2VBdHRyVmFsdWUpICE9PSBmYWxzZSA6IG51bGw7XHJcblxyXG4gICAgY29udGFpbmVyLnJlbW92ZUNsYXNzKFwiZmllbGQtdmFsaWRhdGlvbi12YWxpZFwiKS5hZGRDbGFzcyhcImZpZWxkLXZhbGlkYXRpb24tZXJyb3JcIik7XHJcbiAgICBlcnJvci5kYXRhKFwidW5vYnRydXNpdmVDb250YWluZXJcIiwgY29udGFpbmVyKTtcclxuXHJcbiAgICBpZiAocmVwbGFjZSkge1xyXG4gICAgICBjb250YWluZXIuZW1wdHkoKTtcclxuICAgICAgZXJyb3IucmVtb3ZlQ2xhc3MoXCJpbnB1dC12YWxpZGF0aW9uLWVycm9yXCIpLmFwcGVuZFRvKGNvbnRhaW5lcik7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgZXJyb3IuaGlkZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gb25FcnJvcnMoZXZlbnQsIHZhbGlkYXRvcikgeyAgLy8gJ3RoaXMnIGlzIHRoZSBmb3JtIGVsZW1lbnRcclxuICAgIHZhciBjb250YWluZXIgPSAkKHRoaXMpLmZpbmQoXCJbZGF0YS12YWxtc2ctc3VtbWFyeT10cnVlXVwiKSxcclxuICAgICAgbGlzdCA9IGNvbnRhaW5lci5maW5kKFwidWxcIik7XHJcblxyXG4gICAgaWYgKGxpc3QgJiYgbGlzdC5sZW5ndGggJiYgdmFsaWRhdG9yLmVycm9yTGlzdC5sZW5ndGgpIHtcclxuICAgICAgbGlzdC5lbXB0eSgpO1xyXG4gICAgICBjb250YWluZXIuYWRkQ2xhc3MoXCJ2YWxpZGF0aW9uLXN1bW1hcnktZXJyb3JzXCIpLnJlbW92ZUNsYXNzKFwidmFsaWRhdGlvbi1zdW1tYXJ5LXZhbGlkXCIpO1xyXG5cclxuICAgICAgJC5lYWNoKHZhbGlkYXRvci5lcnJvckxpc3QsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKFwiPGxpIC8+XCIpLmh0bWwodGhpcy5tZXNzYWdlKS5hcHBlbmRUbyhsaXN0KTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBvblN1Y2Nlc3MoZXJyb3IpIHsgIC8vICd0aGlzJyBpcyB0aGUgZm9ybSBlbGVtZW50XHJcbiAgICB2YXIgY29udGFpbmVyID0gZXJyb3IuZGF0YShcInVub2J0cnVzaXZlQ29udGFpbmVyXCIpO1xyXG5cclxuICAgIGlmIChjb250YWluZXIpIHtcclxuICAgICAgdmFyIHJlcGxhY2VBdHRyVmFsdWUgPSBjb250YWluZXIuYXR0cihcImRhdGEtdmFsbXNnLXJlcGxhY2VcIiksXHJcbiAgICAgICAgcmVwbGFjZSA9IHJlcGxhY2VBdHRyVmFsdWUgPyAkLnBhcnNlSlNPTihyZXBsYWNlQXR0clZhbHVlKSA6IG51bGw7XHJcblxyXG4gICAgICBjb250YWluZXIuYWRkQ2xhc3MoXCJmaWVsZC12YWxpZGF0aW9uLXZhbGlkXCIpLnJlbW92ZUNsYXNzKFwiZmllbGQtdmFsaWRhdGlvbi1lcnJvclwiKTtcclxuICAgICAgZXJyb3IucmVtb3ZlRGF0YShcInVub2J0cnVzaXZlQ29udGFpbmVyXCIpO1xyXG5cclxuICAgICAgaWYgKHJlcGxhY2UpIHtcclxuICAgICAgICBjb250YWluZXIuZW1wdHkoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gb25SZXNldChldmVudCkgeyAgLy8gJ3RoaXMnIGlzIHRoZSBmb3JtIGVsZW1lbnRcclxuICAgIHZhciAkZm9ybSA9ICQodGhpcyksXHJcbiAgICAgIGtleSA9ICdfX2pxdWVyeV91bm9idHJ1c2l2ZV92YWxpZGF0aW9uX2Zvcm1fcmVzZXQnO1xyXG4gICAgaWYgKCRmb3JtLmRhdGEoa2V5KSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICAvLyBTZXQgYSBmbGFnIHRoYXQgaW5kaWNhdGVzIHdlJ3JlIGN1cnJlbnRseSByZXNldHRpbmcgdGhlIGZvcm0uXHJcbiAgICAkZm9ybS5kYXRhKGtleSwgdHJ1ZSk7XHJcbiAgICB0cnkge1xyXG4gICAgICAkZm9ybS5kYXRhKFwidmFsaWRhdG9yXCIpLnJlc2V0Rm9ybSgpO1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgJGZvcm0ucmVtb3ZlRGF0YShrZXkpO1xyXG4gICAgfVxyXG5cclxuICAgICRmb3JtLmZpbmQoXCIudmFsaWRhdGlvbi1zdW1tYXJ5LWVycm9yc1wiKVxyXG4gICAgICAuYWRkQ2xhc3MoXCJ2YWxpZGF0aW9uLXN1bW1hcnktdmFsaWRcIilcclxuICAgICAgLnJlbW92ZUNsYXNzKFwidmFsaWRhdGlvbi1zdW1tYXJ5LWVycm9yc1wiKTtcclxuICAgICRmb3JtLmZpbmQoXCIuZmllbGQtdmFsaWRhdGlvbi1lcnJvclwiKVxyXG4gICAgICAuYWRkQ2xhc3MoXCJmaWVsZC12YWxpZGF0aW9uLXZhbGlkXCIpXHJcbiAgICAgIC5yZW1vdmVDbGFzcyhcImZpZWxkLXZhbGlkYXRpb24tZXJyb3JcIilcclxuICAgICAgLnJlbW92ZURhdGEoXCJ1bm9idHJ1c2l2ZUNvbnRhaW5lclwiKVxyXG4gICAgICAuZmluZChcIj4qXCIpICAvLyBJZiB3ZSB3ZXJlIHVzaW5nIHZhbG1zZy1yZXBsYWNlLCBnZXQgdGhlIHVuZGVybHlpbmcgZXJyb3JcclxuICAgICAgLnJlbW92ZURhdGEoXCJ1bm9idHJ1c2l2ZUNvbnRhaW5lclwiKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHZhbGlkYXRpb25JbmZvKGZvcm0pIHtcclxuICAgIHZhciAkZm9ybSA9ICQoZm9ybSksXHJcbiAgICAgIHJlc3VsdCA9ICRmb3JtLmRhdGEoZGF0YV92YWxpZGF0aW9uKSxcclxuICAgICAgb25SZXNldFByb3h5ID0gJC5wcm94eShvblJlc2V0LCBmb3JtKSxcclxuICAgICAgZGVmYXVsdE9wdGlvbnMgPSAkalF2YWwudW5vYnRydXNpdmUub3B0aW9ucyB8fCB7fSxcclxuICAgICAgZXhlY0luQ29udGV4dCA9IGZ1bmN0aW9uIChuYW1lLCBhcmdzKSB7XHJcbiAgICAgICAgdmFyIGZ1bmMgPSBkZWZhdWx0T3B0aW9uc1tuYW1lXTtcclxuICAgICAgICBmdW5jICYmICQuaXNGdW5jdGlvbihmdW5jKSAmJiBmdW5jLmFwcGx5KGZvcm0sIGFyZ3MpO1xyXG4gICAgICB9O1xyXG5cclxuICAgIGlmICghcmVzdWx0KSB7XHJcbiAgICAgIHJlc3VsdCA9IHtcclxuICAgICAgICBvcHRpb25zOiB7ICAvLyBvcHRpb25zIHN0cnVjdHVyZSBwYXNzZWQgdG8galF1ZXJ5IFZhbGlkYXRlJ3MgdmFsaWRhdGUoKSBtZXRob2RcclxuICAgICAgICAgIGVycm9yQ2xhc3M6IGRlZmF1bHRPcHRpb25zLmVycm9yQ2xhc3MgfHwgXCJpbnB1dC12YWxpZGF0aW9uLWVycm9yXCIsXHJcbiAgICAgICAgICBlcnJvckVsZW1lbnQ6IGRlZmF1bHRPcHRpb25zLmVycm9yRWxlbWVudCB8fCBcInNwYW5cIixcclxuICAgICAgICAgIGVycm9yUGxhY2VtZW50OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIG9uRXJyb3IuYXBwbHkoZm9ybSwgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgZXhlY0luQ29udGV4dChcImVycm9yUGxhY2VtZW50XCIsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgaW52YWxpZEhhbmRsZXI6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgb25FcnJvcnMuYXBwbHkoZm9ybSwgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgZXhlY0luQ29udGV4dChcImludmFsaWRIYW5kbGVyXCIsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgbWVzc2FnZXM6IHt9LFxyXG4gICAgICAgICAgcnVsZXM6IHt9LFxyXG4gICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBvblN1Y2Nlc3MuYXBwbHkoZm9ybSwgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgZXhlY0luQ29udGV4dChcInN1Y2Nlc3NcIiwgYXJndW1lbnRzKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGF0dGFjaFZhbGlkYXRpb246IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICRmb3JtXHJcbiAgICAgICAgICAgIC5vZmYoXCJyZXNldC5cIiArIGRhdGFfdmFsaWRhdGlvbiwgb25SZXNldFByb3h5KVxyXG4gICAgICAgICAgICAub24oXCJyZXNldC5cIiArIGRhdGFfdmFsaWRhdGlvbiwgb25SZXNldFByb3h5KVxyXG4gICAgICAgICAgICAudmFsaWRhdGUodGhpcy5vcHRpb25zKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHZhbGlkYXRlOiBmdW5jdGlvbiAoKSB7ICAvLyBhIHZhbGlkYXRpb24gZnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgYnkgdW5vYnRydXNpdmUgQWpheFxyXG4gICAgICAgICAgJGZvcm0udmFsaWRhdGUoKTtcclxuICAgICAgICAgIHJldHVybiAkZm9ybS52YWxpZCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgICAgJGZvcm0uZGF0YShkYXRhX3ZhbGlkYXRpb24sIHJlc3VsdCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9XHJcblxyXG4gICRqUXZhbC51bm9idHJ1c2l2ZSA9IHtcclxuICAgIGFkYXB0ZXJzOiBbXSxcclxuXHJcbiAgICBwYXJzZUVsZW1lbnQ6IGZ1bmN0aW9uIChlbGVtZW50LCBza2lwQXR0YWNoKSB7XHJcbiAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgLy8vIFBhcnNlcyBhIHNpbmdsZSBIVE1MIGVsZW1lbnQgZm9yIHVub2J0cnVzaXZlIHZhbGlkYXRpb24gYXR0cmlidXRlcy5cclxuICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgLy8vIDxwYXJhbSBuYW1lPVwiZWxlbWVudFwiIGRvbUVsZW1lbnQ9XCJ0cnVlXCI+VGhlIEhUTUwgZWxlbWVudCB0byBiZSBwYXJzZWQuPC9wYXJhbT5cclxuICAgICAgLy8vIDxwYXJhbSBuYW1lPVwic2tpcEF0dGFjaFwiIHR5cGU9XCJCb29sZWFuXCI+W09wdGlvbmFsXSB0cnVlIHRvIHNraXAgYXR0YWNoaW5nIHRoZVxyXG4gICAgICAvLy8gdmFsaWRhdGlvbiB0byB0aGUgZm9ybS4gSWYgcGFyc2luZyBqdXN0IHRoaXMgc2luZ2xlIGVsZW1lbnQsIHlvdSBzaG91bGQgc3BlY2lmeSB0cnVlLlxyXG4gICAgICAvLy8gSWYgcGFyc2luZyBzZXZlcmFsIGVsZW1lbnRzLCB5b3Ugc2hvdWxkIHNwZWNpZnkgZmFsc2UsIGFuZCBtYW51YWxseSBhdHRhY2ggdGhlIHZhbGlkYXRpb25cclxuICAgICAgLy8vIHRvIHRoZSBmb3JtIHdoZW4geW91IGFyZSBmaW5pc2hlZC4gVGhlIGRlZmF1bHQgaXMgZmFsc2UuPC9wYXJhbT5cclxuICAgICAgdmFyICRlbGVtZW50ID0gJChlbGVtZW50KSxcclxuICAgICAgICBmb3JtID0gJGVsZW1lbnQucGFyZW50cyhcImZvcm1cIilbMF0sXHJcbiAgICAgICAgdmFsSW5mbywgcnVsZXMsIG1lc3NhZ2VzO1xyXG5cclxuICAgICAgaWYgKCFmb3JtKSB7ICAvLyBDYW5ub3QgZG8gY2xpZW50LXNpZGUgdmFsaWRhdGlvbiB3aXRob3V0IGEgZm9ybVxyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmFsSW5mbyA9IHZhbGlkYXRpb25JbmZvKGZvcm0pO1xyXG4gICAgICB2YWxJbmZvLm9wdGlvbnMucnVsZXNbZWxlbWVudC5uYW1lXSA9IHJ1bGVzID0ge307XHJcbiAgICAgIHZhbEluZm8ub3B0aW9ucy5tZXNzYWdlc1tlbGVtZW50Lm5hbWVdID0gbWVzc2FnZXMgPSB7fTtcclxuXHJcbiAgICAgICQuZWFjaCh0aGlzLmFkYXB0ZXJzLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHByZWZpeCA9IFwiZGF0YS12YWwtXCIgKyB0aGlzLm5hbWUsXHJcbiAgICAgICAgICBtZXNzYWdlID0gJGVsZW1lbnQuYXR0cihwcmVmaXgpLFxyXG4gICAgICAgICAgcGFyYW1WYWx1ZXMgPSB7fTtcclxuXHJcbiAgICAgICAgaWYgKG1lc3NhZ2UgIT09IHVuZGVmaW5lZCkgeyAgLy8gQ29tcGFyZSBhZ2FpbnN0IHVuZGVmaW5lZCwgYmVjYXVzZSBhbiBlbXB0eSBtZXNzYWdlIGlzIGxlZ2FsIChhbmQgZmFsc3kpXHJcbiAgICAgICAgICBwcmVmaXggKz0gXCItXCI7XHJcblxyXG4gICAgICAgICAgJC5lYWNoKHRoaXMucGFyYW1zLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHBhcmFtVmFsdWVzW3RoaXNdID0gJGVsZW1lbnQuYXR0cihwcmVmaXggKyB0aGlzKTtcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIHRoaXMuYWRhcHQoe1xyXG4gICAgICAgICAgICBlbGVtZW50OiBlbGVtZW50LFxyXG4gICAgICAgICAgICBmb3JtOiBmb3JtLFxyXG4gICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLFxyXG4gICAgICAgICAgICBwYXJhbXM6IHBhcmFtVmFsdWVzLFxyXG4gICAgICAgICAgICBydWxlczogcnVsZXMsXHJcbiAgICAgICAgICAgIG1lc3NhZ2VzOiBtZXNzYWdlc1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgICQuZXh0ZW5kKHJ1bGVzLCB7IFwiX19kdW1teV9fXCI6IHRydWUgfSk7XHJcblxyXG4gICAgICBpZiAoIXNraXBBdHRhY2gpIHtcclxuICAgICAgICB2YWxJbmZvLmF0dGFjaFZhbGlkYXRpb24oKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBwYXJzZTogZnVuY3Rpb24gKHNlbGVjdG9yKSB7XHJcbiAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgLy8vIFBhcnNlcyBhbGwgdGhlIEhUTUwgZWxlbWVudHMgaW4gdGhlIHNwZWNpZmllZCBzZWxlY3Rvci4gSXQgbG9va3MgZm9yIGlucHV0IGVsZW1lbnRzIGRlY29yYXRlZFxyXG4gICAgICAvLy8gd2l0aCB0aGUgW2RhdGEtdmFsPXRydWVdIGF0dHJpYnV0ZSB2YWx1ZSBhbmQgZW5hYmxlcyB2YWxpZGF0aW9uIGFjY29yZGluZyB0byB0aGUgZGF0YS12YWwtKlxyXG4gICAgICAvLy8gYXR0cmlidXRlIHZhbHVlcy5cclxuICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgLy8vIDxwYXJhbSBuYW1lPVwic2VsZWN0b3JcIiB0eXBlPVwiU3RyaW5nXCI+QW55IHZhbGlkIGpRdWVyeSBzZWxlY3Rvci48L3BhcmFtPlxyXG5cclxuICAgICAgLy8gJGZvcm1zIGluY2x1ZGVzIGFsbCBmb3JtcyBpbiBzZWxlY3RvcidzIERPTSBoaWVyYXJjaHkgKHBhcmVudCwgY2hpbGRyZW4gYW5kIHNlbGYpIHRoYXQgaGF2ZSBhdCBsZWFzdCBvbmVcclxuICAgICAgLy8gZWxlbWVudCB3aXRoIGRhdGEtdmFsPXRydWVcclxuICAgICAgdmFyICRzZWxlY3RvciA9ICQoc2VsZWN0b3IpLFxyXG4gICAgICAgICRmb3JtcyA9ICRzZWxlY3Rvci5wYXJlbnRzKClcclxuICAgICAgICAgIC5hZGRCYWNrKClcclxuICAgICAgICAgIC5maWx0ZXIoXCJmb3JtXCIpXHJcbiAgICAgICAgICAuYWRkKCRzZWxlY3Rvci5maW5kKFwiZm9ybVwiKSlcclxuICAgICAgICAgIC5oYXMoXCJbZGF0YS12YWw9dHJ1ZV1cIik7XHJcblxyXG4gICAgICAkc2VsZWN0b3IuZmluZChcIltkYXRhLXZhbD10cnVlXVwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkalF2YWwudW5vYnRydXNpdmUucGFyc2VFbGVtZW50KHRoaXMsIHRydWUpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgICRmb3Jtcy5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgaW5mbyA9IHZhbGlkYXRpb25JbmZvKHRoaXMpO1xyXG4gICAgICAgIGlmIChpbmZvKSB7XHJcbiAgICAgICAgICBpbmZvLmF0dGFjaFZhbGlkYXRpb24oKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGFkYXB0ZXJzID0gJGpRdmFsLnVub2J0cnVzaXZlLmFkYXB0ZXJzO1xyXG5cclxuICBhZGFwdGVycy5hZGQgPSBmdW5jdGlvbiAoYWRhcHRlck5hbWUsIHBhcmFtcywgZm4pIHtcclxuICAgIC8vLyA8c3VtbWFyeT5BZGRzIGEgbmV3IGFkYXB0ZXIgdG8gY29udmVydCB1bm9idHJ1c2l2ZSBIVE1MIGludG8gYSBqUXVlcnkgVmFsaWRhdGUgdmFsaWRhdGlvbi48L3N1bW1hcnk+XHJcbiAgICAvLy8gPHBhcmFtIG5hbWU9XCJhZGFwdGVyTmFtZVwiIHR5cGU9XCJTdHJpbmdcIj5UaGUgbmFtZSBvZiB0aGUgYWRhcHRlciB0byBiZSBhZGRlZC4gVGhpcyBtYXRjaGVzIHRoZSBuYW1lIHVzZWRcclxuICAgIC8vLyBpbiB0aGUgZGF0YS12YWwtbm5ubiBIVE1MIGF0dHJpYnV0ZSAod2hlcmUgbm5ubiBpcyB0aGUgYWRhcHRlciBuYW1lKS48L3BhcmFtPlxyXG4gICAgLy8vIDxwYXJhbSBuYW1lPVwicGFyYW1zXCIgdHlwZT1cIkFycmF5XCIgb3B0aW9uYWw9XCJ0cnVlXCI+W09wdGlvbmFsXSBBbiBhcnJheSBvZiBwYXJhbWV0ZXIgbmFtZXMgKHN0cmluZ3MpIHRoYXQgd2lsbFxyXG4gICAgLy8vIGJlIGV4dHJhY3RlZCBmcm9tIHRoZSBkYXRhLXZhbC1ubm5uLW1tbW0gSFRNTCBhdHRyaWJ1dGVzICh3aGVyZSBubm5uIGlzIHRoZSBhZGFwdGVyIG5hbWUsIGFuZFxyXG4gICAgLy8vIG1tbW0gaXMgdGhlIHBhcmFtZXRlciBuYW1lKS48L3BhcmFtPlxyXG4gICAgLy8vIDxwYXJhbSBuYW1lPVwiZm5cIiB0eXBlPVwiRnVuY3Rpb25cIj5UaGUgZnVuY3Rpb24gdG8gY2FsbCwgd2hpY2ggYWRhcHRzIHRoZSB2YWx1ZXMgZnJvbSB0aGUgSFRNTFxyXG4gICAgLy8vIGF0dHJpYnV0ZXMgaW50byBqUXVlcnkgVmFsaWRhdGUgcnVsZXMgYW5kL29yIG1lc3NhZ2VzLjwvcGFyYW0+XHJcbiAgICAvLy8gPHJldHVybnMgdHlwZT1cImpRdWVyeS52YWxpZGF0b3IudW5vYnRydXNpdmUuYWRhcHRlcnNcIiAvPlxyXG4gICAgaWYgKCFmbikgeyAgLy8gQ2FsbGVkIHdpdGggbm8gcGFyYW1zLCBqdXN0IGEgZnVuY3Rpb25cclxuICAgICAgZm4gPSBwYXJhbXM7XHJcbiAgICAgIHBhcmFtcyA9IFtdO1xyXG4gICAgfVxyXG4gICAgdGhpcy5wdXNoKHsgbmFtZTogYWRhcHRlck5hbWUsIHBhcmFtczogcGFyYW1zLCBhZGFwdDogZm4gfSk7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9O1xyXG5cclxuICBhZGFwdGVycy5hZGRCb29sID0gZnVuY3Rpb24gKGFkYXB0ZXJOYW1lLCBydWxlTmFtZSkge1xyXG4gICAgLy8vIDxzdW1tYXJ5PkFkZHMgYSBuZXcgYWRhcHRlciB0byBjb252ZXJ0IHVub2J0cnVzaXZlIEhUTUwgaW50byBhIGpRdWVyeSBWYWxpZGF0ZSB2YWxpZGF0aW9uLCB3aGVyZVxyXG4gICAgLy8vIHRoZSBqUXVlcnkgVmFsaWRhdGUgdmFsaWRhdGlvbiBydWxlIGhhcyBubyBwYXJhbWV0ZXIgdmFsdWVzLjwvc3VtbWFyeT5cclxuICAgIC8vLyA8cGFyYW0gbmFtZT1cImFkYXB0ZXJOYW1lXCIgdHlwZT1cIlN0cmluZ1wiPlRoZSBuYW1lIG9mIHRoZSBhZGFwdGVyIHRvIGJlIGFkZGVkLiBUaGlzIG1hdGNoZXMgdGhlIG5hbWUgdXNlZFxyXG4gICAgLy8vIGluIHRoZSBkYXRhLXZhbC1ubm5uIEhUTUwgYXR0cmlidXRlICh3aGVyZSBubm5uIGlzIHRoZSBhZGFwdGVyIG5hbWUpLjwvcGFyYW0+XHJcbiAgICAvLy8gPHBhcmFtIG5hbWU9XCJydWxlTmFtZVwiIHR5cGU9XCJTdHJpbmdcIiBvcHRpb25hbD1cInRydWVcIj5bT3B0aW9uYWxdIFRoZSBuYW1lIG9mIHRoZSBqUXVlcnkgVmFsaWRhdGUgcnVsZS4gSWYgbm90IHByb3ZpZGVkLCB0aGUgdmFsdWVcclxuICAgIC8vLyBvZiBhZGFwdGVyTmFtZSB3aWxsIGJlIHVzZWQgaW5zdGVhZC48L3BhcmFtPlxyXG4gICAgLy8vIDxyZXR1cm5zIHR5cGU9XCJqUXVlcnkudmFsaWRhdG9yLnVub2J0cnVzaXZlLmFkYXB0ZXJzXCIgLz5cclxuICAgIHJldHVybiB0aGlzLmFkZChhZGFwdGVyTmFtZSwgZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuICAgICAgc2V0VmFsaWRhdGlvblZhbHVlcyhvcHRpb25zLCBydWxlTmFtZSB8fCBhZGFwdGVyTmFtZSwgdHJ1ZSk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBhZGFwdGVycy5hZGRNaW5NYXggPSBmdW5jdGlvbiAoYWRhcHRlck5hbWUsIG1pblJ1bGVOYW1lLCBtYXhSdWxlTmFtZSwgbWluTWF4UnVsZU5hbWUsIG1pbkF0dHJpYnV0ZSwgbWF4QXR0cmlidXRlKSB7XHJcbiAgICAvLy8gPHN1bW1hcnk+QWRkcyBhIG5ldyBhZGFwdGVyIHRvIGNvbnZlcnQgdW5vYnRydXNpdmUgSFRNTCBpbnRvIGEgalF1ZXJ5IFZhbGlkYXRlIHZhbGlkYXRpb24sIHdoZXJlXHJcbiAgICAvLy8gdGhlIGpRdWVyeSBWYWxpZGF0ZSB2YWxpZGF0aW9uIGhhcyB0aHJlZSBwb3RlbnRpYWwgcnVsZXMgKG9uZSBmb3IgbWluLW9ubHksIG9uZSBmb3IgbWF4LW9ubHksIGFuZFxyXG4gICAgLy8vIG9uZSBmb3IgbWluLWFuZC1tYXgpLiBUaGUgSFRNTCBwYXJhbWV0ZXJzIGFyZSBleHBlY3RlZCB0byBiZSBuYW1lZCAtbWluIGFuZCAtbWF4Ljwvc3VtbWFyeT5cclxuICAgIC8vLyA8cGFyYW0gbmFtZT1cImFkYXB0ZXJOYW1lXCIgdHlwZT1cIlN0cmluZ1wiPlRoZSBuYW1lIG9mIHRoZSBhZGFwdGVyIHRvIGJlIGFkZGVkLiBUaGlzIG1hdGNoZXMgdGhlIG5hbWUgdXNlZFxyXG4gICAgLy8vIGluIHRoZSBkYXRhLXZhbC1ubm5uIEhUTUwgYXR0cmlidXRlICh3aGVyZSBubm5uIGlzIHRoZSBhZGFwdGVyIG5hbWUpLjwvcGFyYW0+XHJcbiAgICAvLy8gPHBhcmFtIG5hbWU9XCJtaW5SdWxlTmFtZVwiIHR5cGU9XCJTdHJpbmdcIj5UaGUgbmFtZSBvZiB0aGUgalF1ZXJ5IFZhbGlkYXRlIHJ1bGUgdG8gYmUgdXNlZCB3aGVuIHlvdSBvbmx5XHJcbiAgICAvLy8gaGF2ZSBhIG1pbmltdW0gdmFsdWUuPC9wYXJhbT5cclxuICAgIC8vLyA8cGFyYW0gbmFtZT1cIm1heFJ1bGVOYW1lXCIgdHlwZT1cIlN0cmluZ1wiPlRoZSBuYW1lIG9mIHRoZSBqUXVlcnkgVmFsaWRhdGUgcnVsZSB0byBiZSB1c2VkIHdoZW4geW91IG9ubHlcclxuICAgIC8vLyBoYXZlIGEgbWF4aW11bSB2YWx1ZS48L3BhcmFtPlxyXG4gICAgLy8vIDxwYXJhbSBuYW1lPVwibWluTWF4UnVsZU5hbWVcIiB0eXBlPVwiU3RyaW5nXCI+VGhlIG5hbWUgb2YgdGhlIGpRdWVyeSBWYWxpZGF0ZSBydWxlIHRvIGJlIHVzZWQgd2hlbiB5b3VcclxuICAgIC8vLyBoYXZlIGJvdGggYSBtaW5pbXVtIGFuZCBtYXhpbXVtIHZhbHVlLjwvcGFyYW0+XHJcbiAgICAvLy8gPHBhcmFtIG5hbWU9XCJtaW5BdHRyaWJ1dGVcIiB0eXBlPVwiU3RyaW5nXCIgb3B0aW9uYWw9XCJ0cnVlXCI+W09wdGlvbmFsXSBUaGUgbmFtZSBvZiB0aGUgSFRNTCBhdHRyaWJ1dGUgdGhhdFxyXG4gICAgLy8vIGNvbnRhaW5zIHRoZSBtaW5pbXVtIHZhbHVlLiBUaGUgZGVmYXVsdCBpcyBcIm1pblwiLjwvcGFyYW0+XHJcbiAgICAvLy8gPHBhcmFtIG5hbWU9XCJtYXhBdHRyaWJ1dGVcIiB0eXBlPVwiU3RyaW5nXCIgb3B0aW9uYWw9XCJ0cnVlXCI+W09wdGlvbmFsXSBUaGUgbmFtZSBvZiB0aGUgSFRNTCBhdHRyaWJ1dGUgdGhhdFxyXG4gICAgLy8vIGNvbnRhaW5zIHRoZSBtYXhpbXVtIHZhbHVlLiBUaGUgZGVmYXVsdCBpcyBcIm1heFwiLjwvcGFyYW0+XHJcbiAgICAvLy8gPHJldHVybnMgdHlwZT1cImpRdWVyeS52YWxpZGF0b3IudW5vYnRydXNpdmUuYWRhcHRlcnNcIiAvPlxyXG4gICAgcmV0dXJuIHRoaXMuYWRkKGFkYXB0ZXJOYW1lLCBbbWluQXR0cmlidXRlIHx8IFwibWluXCIsIG1heEF0dHJpYnV0ZSB8fCBcIm1heFwiXSwgZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuICAgICAgdmFyIG1pbiA9IG9wdGlvbnMucGFyYW1zLm1pbixcclxuICAgICAgICBtYXggPSBvcHRpb25zLnBhcmFtcy5tYXg7XHJcblxyXG4gICAgICBpZiAobWluICYmIG1heCkge1xyXG4gICAgICAgIHNldFZhbGlkYXRpb25WYWx1ZXMob3B0aW9ucywgbWluTWF4UnVsZU5hbWUsIFttaW4sIG1heF0pO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2UgaWYgKG1pbikge1xyXG4gICAgICAgIHNldFZhbGlkYXRpb25WYWx1ZXMob3B0aW9ucywgbWluUnVsZU5hbWUsIG1pbik7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSBpZiAobWF4KSB7XHJcbiAgICAgICAgc2V0VmFsaWRhdGlvblZhbHVlcyhvcHRpb25zLCBtYXhSdWxlTmFtZSwgbWF4KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgYWRhcHRlcnMuYWRkU2luZ2xlVmFsID0gZnVuY3Rpb24gKGFkYXB0ZXJOYW1lLCBhdHRyaWJ1dGUsIHJ1bGVOYW1lKSB7XHJcbiAgICAvLy8gPHN1bW1hcnk+QWRkcyBhIG5ldyBhZGFwdGVyIHRvIGNvbnZlcnQgdW5vYnRydXNpdmUgSFRNTCBpbnRvIGEgalF1ZXJ5IFZhbGlkYXRlIHZhbGlkYXRpb24sIHdoZXJlXHJcbiAgICAvLy8gdGhlIGpRdWVyeSBWYWxpZGF0ZSB2YWxpZGF0aW9uIHJ1bGUgaGFzIGEgc2luZ2xlIHZhbHVlLjwvc3VtbWFyeT5cclxuICAgIC8vLyA8cGFyYW0gbmFtZT1cImFkYXB0ZXJOYW1lXCIgdHlwZT1cIlN0cmluZ1wiPlRoZSBuYW1lIG9mIHRoZSBhZGFwdGVyIHRvIGJlIGFkZGVkLiBUaGlzIG1hdGNoZXMgdGhlIG5hbWUgdXNlZFxyXG4gICAgLy8vIGluIHRoZSBkYXRhLXZhbC1ubm5uIEhUTUwgYXR0cmlidXRlKHdoZXJlIG5ubm4gaXMgdGhlIGFkYXB0ZXIgbmFtZSkuPC9wYXJhbT5cclxuICAgIC8vLyA8cGFyYW0gbmFtZT1cImF0dHJpYnV0ZVwiIHR5cGU9XCJTdHJpbmdcIj5bT3B0aW9uYWxdIFRoZSBuYW1lIG9mIHRoZSBIVE1MIGF0dHJpYnV0ZSB0aGF0IGNvbnRhaW5zIHRoZSB2YWx1ZS5cclxuICAgIC8vLyBUaGUgZGVmYXVsdCBpcyBcInZhbFwiLjwvcGFyYW0+XHJcbiAgICAvLy8gPHBhcmFtIG5hbWU9XCJydWxlTmFtZVwiIHR5cGU9XCJTdHJpbmdcIiBvcHRpb25hbD1cInRydWVcIj5bT3B0aW9uYWxdIFRoZSBuYW1lIG9mIHRoZSBqUXVlcnkgVmFsaWRhdGUgcnVsZS4gSWYgbm90IHByb3ZpZGVkLCB0aGUgdmFsdWVcclxuICAgIC8vLyBvZiBhZGFwdGVyTmFtZSB3aWxsIGJlIHVzZWQgaW5zdGVhZC48L3BhcmFtPlxyXG4gICAgLy8vIDxyZXR1cm5zIHR5cGU9XCJqUXVlcnkudmFsaWRhdG9yLnVub2J0cnVzaXZlLmFkYXB0ZXJzXCIgLz5cclxuICAgIHJldHVybiB0aGlzLmFkZChhZGFwdGVyTmFtZSwgW2F0dHJpYnV0ZSB8fCBcInZhbFwiXSwgZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuICAgICAgc2V0VmFsaWRhdGlvblZhbHVlcyhvcHRpb25zLCBydWxlTmFtZSB8fCBhZGFwdGVyTmFtZSwgb3B0aW9ucy5wYXJhbXNbYXR0cmlidXRlXSk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICAkalF2YWwuYWRkTWV0aG9kKFwiX19kdW1teV9fXCIsIGZ1bmN0aW9uICh2YWx1ZSwgZWxlbWVudCwgcGFyYW1zKSB7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9KTtcclxuXHJcbiAgJGpRdmFsLmFkZE1ldGhvZChcInJlZ2V4XCIsIGZ1bmN0aW9uICh2YWx1ZSwgZWxlbWVudCwgcGFyYW1zKSB7XHJcbiAgICB2YXIgbWF0Y2g7XHJcbiAgICBpZiAodGhpcy5vcHRpb25hbChlbGVtZW50KSkge1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBtYXRjaCA9IG5ldyBSZWdFeHAocGFyYW1zKS5leGVjKHZhbHVlKTtcclxuICAgIHJldHVybiAobWF0Y2ggJiYgKG1hdGNoLmluZGV4ID09PSAwKSAmJiAobWF0Y2hbMF0ubGVuZ3RoID09PSB2YWx1ZS5sZW5ndGgpKTtcclxuICB9KTtcclxuXHJcbiAgJGpRdmFsLmFkZE1ldGhvZChcIm5vbmFscGhhbWluXCIsIGZ1bmN0aW9uICh2YWx1ZSwgZWxlbWVudCwgbm9uYWxwaGFtaW4pIHtcclxuICAgIHZhciBtYXRjaDtcclxuICAgIGlmIChub25hbHBoYW1pbikge1xyXG4gICAgICBtYXRjaCA9IHZhbHVlLm1hdGNoKC9cXFcvZyk7XHJcbiAgICAgIG1hdGNoID0gbWF0Y2ggJiYgbWF0Y2gubGVuZ3RoID49IG5vbmFscGhhbWluO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG1hdGNoO1xyXG4gIH0pO1xyXG5cclxuICBpZiAoJGpRdmFsLm1ldGhvZHMuZXh0ZW5zaW9uKSB7XHJcbiAgICBhZGFwdGVycy5hZGRTaW5nbGVWYWwoXCJhY2NlcHRcIiwgXCJtaW10eXBlXCIpO1xyXG4gICAgYWRhcHRlcnMuYWRkU2luZ2xlVmFsKFwiZXh0ZW5zaW9uXCIsIFwiZXh0ZW5zaW9uXCIpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSwgd2hlbiB0aGUgJ2V4dGVuc2lvbicgdmFsaWRhdGlvbiBtZXRob2QgZG9lcyBub3QgZXhpc3QsIHN1Y2ggYXMgd2l0aCB2ZXJzaW9uc1xyXG4gICAgLy8gb2YgSlF1ZXJ5IFZhbGlkYXRpb24gcGx1Z2luIHByaW9yIHRvIDEuMTAsIHdlIHNob3VsZCB1c2UgdGhlICdhY2NlcHQnIG1ldGhvZCBmb3JcclxuICAgIC8vIHZhbGlkYXRpbmcgdGhlIGV4dGVuc2lvbiwgYW5kIGlnbm9yZSBtaW1lLXR5cGUgdmFsaWRhdGlvbnMgYXMgdGhleSBhcmUgbm90IHN1cHBvcnRlZC5cclxuICAgIGFkYXB0ZXJzLmFkZFNpbmdsZVZhbChcImV4dGVuc2lvblwiLCBcImV4dGVuc2lvblwiLCBcImFjY2VwdFwiKTtcclxuICB9XHJcblxyXG4gIGFkYXB0ZXJzLmFkZFNpbmdsZVZhbChcInJlZ2V4XCIsIFwicGF0dGVyblwiKTtcclxuICBhZGFwdGVycy5hZGRCb29sKFwiY3JlZGl0Y2FyZFwiKS5hZGRCb29sKFwiZGF0ZVwiKS5hZGRCb29sKFwiZGlnaXRzXCIpLmFkZEJvb2woXCJlbWFpbFwiKS5hZGRCb29sKFwibnVtYmVyXCIpLmFkZEJvb2woXCJ1cmxcIik7XHJcbiAgYWRhcHRlcnMuYWRkTWluTWF4KFwibGVuZ3RoXCIsIFwibWlubGVuZ3RoXCIsIFwibWF4bGVuZ3RoXCIsIFwicmFuZ2VsZW5ndGhcIikuYWRkTWluTWF4KFwicmFuZ2VcIiwgXCJtaW5cIiwgXCJtYXhcIiwgXCJyYW5nZVwiKTtcclxuICBhZGFwdGVycy5hZGRNaW5NYXgoXCJtaW5sZW5ndGhcIiwgXCJtaW5sZW5ndGhcIikuYWRkTWluTWF4KFwibWF4bGVuZ3RoXCIsIFwibWlubGVuZ3RoXCIsIFwibWF4bGVuZ3RoXCIpO1xyXG4gIGFkYXB0ZXJzLmFkZChcImVxdWFsdG9cIiwgW1wib3RoZXJcIl0sIGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcbiAgICB2YXIgcHJlZml4ID0gZ2V0TW9kZWxQcmVmaXgob3B0aW9ucy5lbGVtZW50Lm5hbWUpLFxyXG4gICAgICBvdGhlciA9IG9wdGlvbnMucGFyYW1zLm90aGVyLFxyXG4gICAgICBmdWxsT3RoZXJOYW1lID0gYXBwZW5kTW9kZWxQcmVmaXgob3RoZXIsIHByZWZpeCksXHJcbiAgICAgIGVsZW1lbnQgPSAkKG9wdGlvbnMuZm9ybSkuZmluZChcIjppbnB1dFwiKS5maWx0ZXIoXCJbbmFtZT0nXCIgKyBlc2NhcGVBdHRyaWJ1dGVWYWx1ZShmdWxsT3RoZXJOYW1lKSArIFwiJ11cIilbMF07XHJcblxyXG4gICAgc2V0VmFsaWRhdGlvblZhbHVlcyhvcHRpb25zLCBcImVxdWFsVG9cIiwgZWxlbWVudCk7XHJcbiAgfSk7XHJcbiAgYWRhcHRlcnMuYWRkKFwicmVxdWlyZWRcIiwgZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuICAgIC8vIGpRdWVyeSBWYWxpZGF0ZSBlcXVhdGVzIFwicmVxdWlyZWRcIiB3aXRoIFwibWFuZGF0b3J5XCIgZm9yIGNoZWNrYm94IGVsZW1lbnRzXHJcbiAgICBpZiAob3B0aW9ucy5lbGVtZW50LnRhZ05hbWUudG9VcHBlckNhc2UoKSAhPT0gXCJJTlBVVFwiIHx8IG9wdGlvbnMuZWxlbWVudC50eXBlLnRvVXBwZXJDYXNlKCkgIT09IFwiQ0hFQ0tCT1hcIikge1xyXG4gICAgICBzZXRWYWxpZGF0aW9uVmFsdWVzKG9wdGlvbnMsIFwicmVxdWlyZWRcIiwgdHJ1ZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbiAgYWRhcHRlcnMuYWRkKFwicmVtb3RlXCIsIFtcInVybFwiLCBcInR5cGVcIiwgXCJhZGRpdGlvbmFsZmllbGRzXCJdLCBmdW5jdGlvbiAob3B0aW9ucykge1xyXG4gICAgdmFyIHZhbHVlID0ge1xyXG4gICAgICB1cmw6IG9wdGlvbnMucGFyYW1zLnVybCxcclxuICAgICAgdHlwZTogb3B0aW9ucy5wYXJhbXMudHlwZSB8fCBcIkdFVFwiLFxyXG4gICAgICBkYXRhOiB7fVxyXG4gICAgfSxcclxuICAgICAgcHJlZml4ID0gZ2V0TW9kZWxQcmVmaXgob3B0aW9ucy5lbGVtZW50Lm5hbWUpO1xyXG5cclxuICAgICQuZWFjaChzcGxpdEFuZFRyaW0ob3B0aW9ucy5wYXJhbXMuYWRkaXRpb25hbGZpZWxkcyB8fCBvcHRpb25zLmVsZW1lbnQubmFtZSksIGZ1bmN0aW9uIChpLCBmaWVsZE5hbWUpIHtcclxuICAgICAgdmFyIHBhcmFtTmFtZSA9IGFwcGVuZE1vZGVsUHJlZml4KGZpZWxkTmFtZSwgcHJlZml4KTtcclxuICAgICAgdmFsdWUuZGF0YVtwYXJhbU5hbWVdID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBmaWVsZCA9ICQob3B0aW9ucy5mb3JtKS5maW5kKFwiOmlucHV0XCIpLmZpbHRlcihcIltuYW1lPSdcIiArIGVzY2FwZUF0dHJpYnV0ZVZhbHVlKHBhcmFtTmFtZSkgKyBcIiddXCIpO1xyXG4gICAgICAgIC8vIEZvciBjaGVja2JveGVzIGFuZCByYWRpbyBidXR0b25zLCBvbmx5IHBpY2sgdXAgdmFsdWVzIGZyb20gY2hlY2tlZCBmaWVsZHMuXHJcbiAgICAgICAgaWYgKGZpZWxkLmlzKFwiOmNoZWNrYm94XCIpKSB7XHJcbiAgICAgICAgICByZXR1cm4gZmllbGQuZmlsdGVyKFwiOmNoZWNrZWRcIikudmFsKCkgfHwgZmllbGQuZmlsdGVyKFwiOmhpZGRlblwiKS52YWwoKSB8fCAnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZmllbGQuaXMoXCI6cmFkaW9cIikpIHtcclxuICAgICAgICAgIHJldHVybiBmaWVsZC5maWx0ZXIoXCI6Y2hlY2tlZFwiKS52YWwoKSB8fCAnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZpZWxkLnZhbCgpO1xyXG4gICAgICB9O1xyXG4gICAgfSk7XHJcblxyXG4gICAgc2V0VmFsaWRhdGlvblZhbHVlcyhvcHRpb25zLCBcInJlbW90ZVwiLCB2YWx1ZSk7XHJcbiAgfSk7XHJcbiAgYWRhcHRlcnMuYWRkKFwicGFzc3dvcmRcIiwgW1wibWluXCIsIFwibm9uYWxwaGFtaW5cIiwgXCJyZWdleFwiXSwgZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuICAgIGlmIChvcHRpb25zLnBhcmFtcy5taW4pIHtcclxuICAgICAgc2V0VmFsaWRhdGlvblZhbHVlcyhvcHRpb25zLCBcIm1pbmxlbmd0aFwiLCBvcHRpb25zLnBhcmFtcy5taW4pO1xyXG4gICAgfVxyXG4gICAgaWYgKG9wdGlvbnMucGFyYW1zLm5vbmFscGhhbWluKSB7XHJcbiAgICAgIHNldFZhbGlkYXRpb25WYWx1ZXMob3B0aW9ucywgXCJub25hbHBoYW1pblwiLCBvcHRpb25zLnBhcmFtcy5ub25hbHBoYW1pbik7XHJcbiAgICB9XHJcbiAgICBpZiAob3B0aW9ucy5wYXJhbXMucmVnZXgpIHtcclxuICAgICAgc2V0VmFsaWRhdGlvblZhbHVlcyhvcHRpb25zLCBcInJlZ2V4XCIsIG9wdGlvbnMucGFyYW1zLnJlZ2V4KTtcclxuICAgIH1cclxuICB9KTtcclxuICBhZGFwdGVycy5hZGQoXCJmaWxlZXh0ZW5zaW9uc1wiLCBbXCJleHRlbnNpb25zXCJdLCBmdW5jdGlvbiAob3B0aW9ucykge1xyXG4gICAgc2V0VmFsaWRhdGlvblZhbHVlcyhvcHRpb25zLCBcImV4dGVuc2lvblwiLCBvcHRpb25zLnBhcmFtcy5leHRlbnNpb25zKTtcclxuICB9KTtcclxuICBcclxuXHJcbiAgLy8gUmVtb3ZlIGF1dG9tYXRpYyBwYXJzaW5nIG9mIGRvY3VtZW50IGFuZCByZWx5IG9uIG91ciBjdXN0b20gSlNcclxuICAvLyQoZnVuY3Rpb24gKCkge1xyXG4gIC8vICAkalF2YWwudW5vYnRydXNpdmUucGFyc2UoZG9jdW1lbnQpO1xyXG4gIC8vfSk7XHJcblxyXG4gIHJldHVybiAkalF2YWwudW5vYnRydXNpdmU7XHJcbn0pKTsiLCIoZnVuY3Rpb24oJCkge1xyXG4gIFwidXNlIHN0cmljdFwiO1xyXG5cclxuICAvLyBzZXQgdmFsaWQgLyBlcnJvciBjbGFzc2VzIGZvciB0aGUgaW5wdXQgdG8gYmUgYnM0IGNsYXNzZXNcclxuICB2YXIgc2V0dGluZ3MgPSB7XHJcbiAgICAvL3ZhbGlkQ2xhc3M6IFwiaXMtdmFsaWRcIiwgLy9UaGlzIGlzIGRpc2FibGVkLCB3ZSBkbyBub3Qgd2FudCB0byBoaWdobGlnaHQgdmFsaWQgaW5wdXRzLlxyXG4gICAgZXJyb3JDbGFzczogXCJpcy1pbnZhbGlkXCIsXG4gICAgb25rZXl1cDogZmFsc2UsXHJcbiAgICBvbmZvY3Vzb3V0OiBmYWxzZSxcbiAgICBvbmNsaWNrOiBmYWxzZVxyXG4gIH07XHJcbiAgJC52YWxpZGF0b3Iuc2V0RGVmYXVsdHMoc2V0dGluZ3MpO1xyXG4gICQudmFsaWRhdG9yLnVub2J0cnVzaXZlLm9wdGlvbnMgPSBzZXR0aW5ncztcclxuXHJcbiAgLy9JRSBQb2x5ZmlsbCBmb3IgZm9yRWFjaCBvbiBOb2RlTGlzdFxyXG4gIGlmICh3aW5kb3cuTm9kZUxpc3QgJiYgIU5vZGVMaXN0LnByb3RvdHlwZS5mb3JFYWNoKSB7XHJcbiAgICBOb2RlTGlzdC5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uKGNhbGxiYWNrLCB0aGlzQXJnKSB7XHJcbiAgICAgIHRoaXNBcmcgPSB0aGlzQXJnIHx8IHdpbmRvdztcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY2FsbGJhY2suY2FsbCh0aGlzQXJnLCB0aGlzW2ldLCBpLCB0aGlzKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGluaXRGb3JtKGZvcm0pIHtcclxuXHJcbiAgICBsZXQgJGZvcm0gPSAkKGZvcm0pO1xyXG4gICAgLy8gcGFyc2UgdGhlIGZvcm0gd2l0aCB1bm9idHJ1c2l2ZSBsaWJyYXJ5IFxyXG4gICAgJC52YWxpZGF0b3IudW5vYnRydXNpdmUucGFyc2UoJGZvcm0pO1xyXG4gICAgY29uc3QgZm9ybUlkID0gJGZvcm0uYXR0cihcImlkXCIpO1xyXG5cclxuICAgICRmb3JtLnN1Ym1pdChmdW5jdGlvbiAoZXZlbnQpIHsgICAgICAgIFxyXG4gICAgICAgIGlmICgkZm9ybS52YWxpZCgpKSB7XHJcbiAgICAgICAgICAvLyBmb3JtIGhhcyBiZWVuIHZhbGlkYXRlZCBieSBqUXVlcnkgdmFsaWRhdGlvblxyXG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgLy8gZGlzYWJsZSBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIGRhdGEtZGlzYWJsZS1zdWJtaXQgYXR0cmlidXRlXHJcbiAgICAgICAgICBjb25zdCB0b0Rpc2FibGUgPSBmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbZGF0YS1kaXNhYmxlLXN1Ym1pdD0ndHJ1ZSddXCIpO1xyXG4gICAgICAgICAgdG9EaXNhYmxlLmZvckVhY2goeCA9PiB4LnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCB0cnVlKSk7XHJcblxyXG4gICAgICAgICAgY29uc3Qgc2VyaWFsaXplZEZvcm0gPSAkZm9ybS5zZXJpYWxpemUoKTtcclxuXHJcbiAgICAgICAgICAvLyBQb3N0IHRvIHRoZSBmb3JtIGNvbnRyb2xsZXJcclxuICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICB1cmw6IGZvcm0uYWN0aW9uLFxyXG4gICAgICAgICAgICBkYXRhOiBzZXJpYWxpemVkRm9ybSxcclxuICAgICAgICAgICAgY2FjaGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcblxuXG4gICAgICAgICAgICAgIGlmIChkYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgLy8gU2VydmVyIHNpZGUgdmFsaWRhdGlvbiBjYW4gb2NjdXIsIGZvcm0gaXMgcmUtcmVuZGVyZWRcclxuICAgICAgICAgICAgICAgICRmb3JtLnJlcGxhY2VXaXRoKGRhdGEuaHRtbCk7XHJcbiAgICAgICAgICAgICAgICAvLyBuZWVkIHRvIHJlcGFyc2UgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgIGluaXRGb3JtKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGZvcm1JZCkpO1xuICAgICAgICAgICAgICAgIC8vVE9ETzogZm9jdXMgb24gZmlyc3QgZXJyb3Igb3IgdmFsaWRhdGlvbiBzdW1tYXJ5XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgLy8gaWYgdGhlIHNlcnZlciBzZW5kcyBhIHJlZGlyZWN0LCByZWxvYWQgdGhlIHdpbmRvd1xuICAgICAgICAgICAgICBpZiAoZGF0YS5yZWRpcmVjdCkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gZGF0YS5yZWRpcmVjdDtcclxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy9UT0RPOiBIYW5kbGUgZGVmYXVsdCBzdWNjZXNzIGNhc2UsIG1heWJlIHNob3cgc29tZVxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyKSB7XHJcbiAgICAgICAgICAgICAgLy8gdG9kbzogaGFuZGxlIHRoaXMgY2FzZSBncmFjZWZ1bGx5LCB1c3VhbGx5IGluIHRoZSBjYXNlIG9mIHNlcnZlciBlcnJvci5cclxuICAgICAgICAgICAgICBjb25zdCBkYXRhID0geGhyLnJlc3BvbnNlSlNPTjtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImVycm9yXCIsIGRhdGEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgfVxyXG5cclxuICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyBsb29rIGZvciBhbGwgYWpheCBmb3JtcyBvbiBsb2FkIGFuZCBpbml0aWFsaXplIHRoZW1cclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYWpheC1mb3JtXCIpLmZvckVhY2goaW5pdEZvcm0pO1xyXG4gIH0pO1xyXG59KShqUXVlcnkpO1xyXG4iXX0=

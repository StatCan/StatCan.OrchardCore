/*
** NOTE: This file is generated by Gulp and should not be edited directly!
** Any changes made directly to this file will be overwritten next time its asset group is processed by Gulp.
*/

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

(function () {
  var isUndefined = function isUndefined(value) {
    return value === undefined;
  };

  var isNull = function isNull(value) {
    return value === null;
  };

  var isBoolean = function isBoolean(value) {
    return typeof value === 'boolean';
  };

  var isObject = function isObject(value) {
    return value === Object(value);
  };

  var isArray = function isArray(value) {
    return Array.isArray(value);
  };

  var isDate = function isDate(value) {
    return value instanceof Date;
  };

  var isBlob = function isBlob(value) {
    return value && typeof value.size === 'number' && typeof value.type === 'string' && typeof value.slice === 'function';
  };

  var isFile = function isFile(value) {
    return isBlob(value) && typeof value.name === 'string' && (_typeof(value.lastModifiedDate) === 'object' || typeof value.lastModified === 'number');
  };

  var serialize = function serialize(obj, cfg, fd, pre) {
    cfg = cfg || {};
    cfg.indices = isUndefined(cfg.indices) ? false : cfg.indices;
    cfg.nullsAsUndefineds = isUndefined(cfg.nullsAsUndefineds) ? false : cfg.nullsAsUndefineds;
    cfg.booleansAsIntegers = isUndefined(cfg.booleansAsIntegers) ? false : cfg.booleansAsIntegers;
    cfg.allowEmptyArrays = isUndefined(cfg.allowEmptyArrays) ? false : cfg.allowEmptyArrays;
    fd = fd || new FormData();

    if (isUndefined(obj)) {
      return fd;
    } else if (isNull(obj)) {
      if (!cfg.nullsAsUndefineds) {
        fd.append(pre, '');
      }
    } else if (isBoolean(obj)) {
      if (cfg.booleansAsIntegers) {
        fd.append(pre, obj ? 1 : 0);
      } else {
        fd.append(pre, obj);
      }
    } else if (isArray(obj)) {
      if (obj.length) {
        obj.forEach(function (value, index) {
          var key = pre + '[' + (cfg.indices ? index : '') + ']';
          serialize(value, cfg, fd, key);
        });
      } else if (cfg.allowEmptyArrays) {
        fd.append(pre + '[]', '');
      }
    } else if (isDate(obj)) {
      fd.append(pre, obj.toISOString());
    } else if (isObject(obj) && !isFile(obj) && !isBlob(obj)) {
      Object.keys(obj).forEach(function (prop) {
        var value = obj[prop];

        if (isArray(value)) {
          while (prop.length > 2 && prop.lastIndexOf('[]') === prop.length - 2) {
            prop = prop.substring(0, prop.length - 2);
          }
        }

        var key = pre ? pre + '[' + prop + ']' : prop;
        serialize(value, cfg, fd, key);
      });
    } else {
      fd.append(pre, obj);
    }

    return fd;
  };

  window.serializeToFormData = serialize;
})();
// register VeeValidate components globally
Vue.component('validation-provider', VeeValidate.ValidationProvider);
Vue.component('validation-observer', VeeValidate.ValidationObserver); // include default english and french translations.

VeeValidate.localize({
  en: {
    "code": "en",
    "messages": {
      "alpha": "The {_field_} field may only contain alphabetic characters",
      "alpha_num": "The {_field_} field may only contain alpha-numeric characters",
      "alpha_dash": "The {_field_} field may contain alpha-numeric characters as well as dashes and underscores",
      "alpha_spaces": "The {_field_} field may only contain alphabetic characters as well as spaces",
      "between": "The {_field_} field must be between {min} and {max}",
      "confirmed": "The {_field_} field confirmation does not match",
      "digits": "The {_field_} field must be numeric and exactly contain {length} digits",
      "dimensions": "The {_field_} field must be {width} pixels by {height} pixels",
      "email": "The {_field_} field must be a valid email",
      "excluded": "The {_field_} field is not a valid value",
      "ext": "The {_field_} field is not a valid file",
      "image": "The {_field_} field must be an image",
      "integer": "The {_field_} field must be an integer",
      "length": "The {_field_} field must be {length} long",
      "max_value": "The {_field_} field must be {max} or less",
      "max": "The {_field_} field may not be greater than {length} characters",
      "mimes": "The {_field_} field must have a valid file type",
      "min_value": "The {_field_} field must be {min} or more",
      "min": "The {_field_} field must be at least {length} characters",
      "numeric": "The {_field_} field may only contain numeric characters",
      "oneOf": "The {_field_} field is not a valid value",
      "regex": "The {_field_} field format is invalid",
      "required_if": "The {_field_} field is required",
      "required": "The {_field_} field is required",
      "size": "The {_field_} field size must be less than {size}KB"
    }
  },
  fr: {
    "code": "fr",
    "messages": {
      "alpha": "Le champ {_field_} ne peut contenir que des lettres",
      "alpha_num": "Le champ {_field_} ne peut contenir que des caractères alpha-numériques",
      "alpha_dash": "Le champ {_field_} ne peut contenir que des caractères alpha-numériques, tirets ou soulignés",
      "alpha_spaces": "Le champ {_field_} ne peut contenir que des lettres ou des espaces",
      "between": "Le champ {_field_} doit être compris entre {min} et {max}",
      "confirmed": "Le champ {_field_} ne correspond pas",
      "digits": "Le champ {_field_} doit être un nombre entier de {length} chiffres",
      "dimensions": "Le champ {_field_} doit avoir une taille de {width} pixels par {height} pixels",
      "email": "Le champ {_field_} doit être une adresse e-mail valide",
      "excluded": "Le champ {_field_} doit être une valeur valide",
      "ext": "Le champ {_field_} doit être un fichier valide",
      "image": "Le champ {_field_} doit être une image",
      "integer": "Le champ {_field_} doit être un entier",
      "length": "Le champ {_field_} doit contenir {length} caractères",
      "max_value": "Le champ {_field_} doit avoir une valeur de {max} ou moins",
      "max": "Le champ {_field_} ne peut pas contenir plus de {length} caractères",
      "mimes": "Le champ {_field_} doit avoir un type MIME valide",
      "min_value": "Le champ {_field_} doit avoir une valeur de {min} ou plus",
      "min": "Le champ {_field_} doit contenir au minimum {length} caractères",
      "numeric": "Le champ {_field_} ne peut contenir que des chiffres",
      "oneOf": "Le champ {_field_} doit être une valeur valide",
      "regex": "Le champ {_field_} est invalide",
      "required": "Le champ {_field_} est obligatoire",
      "required_if": "Le champ {_field_} est obligatoire lorsque {target} possède cette valeur",
      "size": "Le champ {_field_} doit avoir un poids inférieur à {size}KB"
    }
  }
});
"use strict";

function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function decodeUnicode(str) {
  return decodeURIComponent(atob(str).split("").map(function (c) {
    return "%" + ("00" + c.charCodeAt(0).toString(16)).slice(-2);
  }).join(""));
} // run init script


function initForm(app) {
  // Set VeeValidate language based on the lang parameter
  VeeValidate.localize(app.dataset.lang); // options object coming from the OC admin

  var componentOptions = app.dataset.options;
  var parsedOptions = {};

  if (componentOptions) {
    var fn = new Function("return (".concat(decodeUnicode(componentOptions), ");"));
    parsedOptions = fn();

    if (!parsedOptions) {
      console.log("Could not parse the componentOptions object. Make sure your object is well formed.");
    }
  }

  var _parsedOptions = parsedOptions,
      parsedData = _parsedOptions.data,
      parsedMethods = _parsedOptions.methods,
      parsedCreated = _parsedOptions.created,
      parsedRest = _objectWithoutProperties(_parsedOptions, ["data", "methods", "created"]);

  var objData = parsedData;

  if (typeof parsedData === "function") {
    objData = parsedData();
  }

  var defaultFormData = {
    submitting: false,
    submitSuccess: false,
    successMessage: undefined,
    submitError: false,
    submitValidationErrors: false,
    serverValidationMessage: undefined,
    serverErrorMessage: undefined,
    responseData: undefined
  };
  var componentTemplate = decodeUnicode(app.dataset.template);
  var surveyJson = decodeUnicode(app.dataset.surveyJson);
  Vue.component(app.dataset.name, function (resolve) {
    resolve(_objectSpread(_objectSpread({}, parsedRest), {}, {
      template: "".concat(componentTemplate),
      data: function data() {
        var dataObj = _objectSpread(_objectSpread({}, objData), {}, {
          form: _objectSpread({}, defaultFormData)
        });

        if (surveyJson) {
          dataObj.survey = null;
        }

        return dataObj;
      },
      created: function created() {
        var _this = this;

        if (surveyJson) {
          var survey = new Survey.Model(surveyJson);
          survey.locale = app.dataset.lang;
          survey.onComplete.add(function (options) {
            // todo add logic that hides the button
            _this.submitToServer(options.showDataSavingSuccess, options.showDataSavingError);
          });
          this.survey = survey;
        } // execute the created function created in the admin


        if (typeof parsedCreated === "function") {
          parsedCreated();
        }
      },
      methods: _objectSpread(_objectSpread({
        // default method that return the data to be submitted to the server
        // this was added first to allow the Administrator to edit this function on the OC Admin
        submitData: function submitData() {
          var _this$$data = this.$data,
              parsedForm = _this$$data.form,
              parsedSurvey = _this$$data.survey,
              clonedData = _objectWithoutProperties(_this$$data, ["form", "survey"]);

          if (surveyJson) {
            clonedData["__surveyData__"] = JSON.stringify(this.survey.data);
          }

          return clonedData;
        }
      }, parsedMethods), {}, {
        formReset: function formReset() {
          this.form = _objectSpread({}, defaultFormData); // also reset the VeeValidate observer

          this.$refs.obs.reset();
        },
        formHandleSubmit: function formHandleSubmit(e) {
          e.preventDefault();
          this.submitToServer();
          return false;
        },
        submitToServer: function submitToServer() {
          var _this2 = this;

          var onSuccess = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function () {};
          var onError = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {};
          var vm = this; // keep a reference to the VeeValidate observer

          var observer = vm.$refs.obs;
          observer.validate().then(function (valid) {
            if (valid) {
              var action = vm.$refs.form.getAttribute("action"); // set form vue data

              vm.form.submitting = true;
              var frmData = vm.submitData();
              frmData.__RequestVerificationToken = vm.$refs.form.querySelector('input[name="__RequestVerificationToken"]').value;

              if ((typeof grecaptcha === "undefined" ? "undefined" : _typeof(grecaptcha)) == "object") {
                frmData.recaptcha = grecaptcha.getResponse();
              }

              var formData = window.serializeToFormData(frmData); // iterate all file inputs and add the files to the request

              $(_this2.$refs.form).find("input[type=file]").each(function () {
                var _iterator = _createForOfIteratorHelper(this.files),
                    _step;

                try {
                  for (_iterator.s(); !(_step = _iterator.n()).done;) {
                    var file = _step.value;
                    formData.append(file.name, file);
                  }
                } catch (err) {
                  _iterator.e(err);
                } finally {
                  _iterator.f();
                }
              });
              $.ajax({
                type: "POST",
                url: action,
                data: formData,
                cache: false,
                dataType: "json",
                // expect json from the server
                processData: false,
                //tell jquery not to process data
                contentType: false,
                //tell jquery not to set content-type
                success: function success(responseData) {
                  if (responseData.debug) {
                    console.log("Debug object: ", responseData.debug);
                  }

                  vm.form = _objectSpread({}, defaultFormData);
                  vm.form.responseData = responseData; // if there are validation errors on the form, display them.

                  if (responseData.validationError) {
                    //legacy
                    if (responseData.errors["serverValidationMessage"] != null) {
                      vm.form.serverValidationMessage = responseData.errors["serverValidationMessage"];
                      onError(vm.form.serverValidationMessage);
                    }

                    vm.form.submitValidationError = true;
                    observer.setErrors(responseData.errors);
                    return;
                  } // if the server sends a redirect, reload the window


                  if (responseData.redirect) {
                    window.location.href = responseData.redirect;
                    return;
                  }

                  vm.form.submitSuccess = true;
                  vm.form.successMessage = responseData.successMessage;
                  onSuccess(vm.form.successMessage);
                  return;
                },
                error: function error(xhr, statusText) {
                  vm.form = _objectSpread({}, defaultFormData);
                  vm.form.submitError = true;
                  vm.form.serverErrorMessage = "".concat(xhr.status, " ").concat(statusText);
                  var regex = /\\n|\\r\\n|\\n\\r|\\r/g;
                  vm.form.serverResponseError = xhr.responseText.replace(regex, '<br>');
                  onError(vm.form.serverResponseError);
                }
              });
            }
          });
        }
      })
    }));
  }); // run the vue-form init script provided in the OC admin ui

  var initScript = app.dataset.initScript;

  if (initScript) {
    var initFn = new Function(decodeUnicode(initScript));
    initFn();
  }
} // look for all vue forms when this script is loaded and initialize them


document.querySelectorAll(".vue-form").forEach(initForm);
document.addEventListener("DOMContentLoaded", function (event) {
  document.querySelectorAll(".vue-app-instance").forEach(function (elem) {
    new Vue({
      el: elem
    });
  });
  document.querySelectorAll(".vuetify-app-instance").forEach(function (elem) {
    new Vue({
      el: elem,
      vuetify: new Vuetify()
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9iamVjdFRvRm9ybURhdGEuanMiLCJ2ZWV2YWxpZGF0ZS1zZXR1cC5qcyIsInZ1ZS1mb3Jtcy5qcyJdLCJuYW1lcyI6WyJpc1VuZGVmaW5lZCIsInZhbHVlIiwidW5kZWZpbmVkIiwiaXNOdWxsIiwiaXNCb29sZWFuIiwiaXNPYmplY3QiLCJPYmplY3QiLCJpc0FycmF5IiwiQXJyYXkiLCJpc0RhdGUiLCJEYXRlIiwiaXNCbG9iIiwic2l6ZSIsInR5cGUiLCJzbGljZSIsImlzRmlsZSIsIm5hbWUiLCJsYXN0TW9kaWZpZWREYXRlIiwibGFzdE1vZGlmaWVkIiwic2VyaWFsaXplIiwib2JqIiwiY2ZnIiwiZmQiLCJwcmUiLCJpbmRpY2VzIiwibnVsbHNBc1VuZGVmaW5lZHMiLCJib29sZWFuc0FzSW50ZWdlcnMiLCJhbGxvd0VtcHR5QXJyYXlzIiwiRm9ybURhdGEiLCJhcHBlbmQiLCJsZW5ndGgiLCJmb3JFYWNoIiwiaW5kZXgiLCJrZXkiLCJ0b0lTT1N0cmluZyIsImtleXMiLCJwcm9wIiwibGFzdEluZGV4T2YiLCJzdWJzdHJpbmciLCJ3aW5kb3ciLCJzZXJpYWxpemVUb0Zvcm1EYXRhIiwiVnVlIiwiY29tcG9uZW50IiwiVmVlVmFsaWRhdGUiLCJWYWxpZGF0aW9uUHJvdmlkZXIiLCJWYWxpZGF0aW9uT2JzZXJ2ZXIiLCJsb2NhbGl6ZSIsImVuIiwiZnIiLCJkZWNvZGVVbmljb2RlIiwic3RyIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiYXRvYiIsInNwbGl0IiwibWFwIiwiYyIsImNoYXJDb2RlQXQiLCJ0b1N0cmluZyIsImpvaW4iLCJpbml0Rm9ybSIsImFwcCIsImRhdGFzZXQiLCJsYW5nIiwiY29tcG9uZW50T3B0aW9ucyIsIm9wdGlvbnMiLCJwYXJzZWRPcHRpb25zIiwiZm4iLCJGdW5jdGlvbiIsImNvbnNvbGUiLCJsb2ciLCJwYXJzZWREYXRhIiwiZGF0YSIsInBhcnNlZE1ldGhvZHMiLCJtZXRob2RzIiwicGFyc2VkQ3JlYXRlZCIsImNyZWF0ZWQiLCJwYXJzZWRSZXN0Iiwib2JqRGF0YSIsImRlZmF1bHRGb3JtRGF0YSIsInN1Ym1pdHRpbmciLCJzdWJtaXRTdWNjZXNzIiwic3VjY2Vzc01lc3NhZ2UiLCJzdWJtaXRFcnJvciIsInN1Ym1pdFZhbGlkYXRpb25FcnJvcnMiLCJzZXJ2ZXJWYWxpZGF0aW9uTWVzc2FnZSIsInNlcnZlckVycm9yTWVzc2FnZSIsInJlc3BvbnNlRGF0YSIsImNvbXBvbmVudFRlbXBsYXRlIiwidGVtcGxhdGUiLCJzdXJ2ZXlKc29uIiwicmVzb2x2ZSIsImRhdGFPYmoiLCJmb3JtIiwic3VydmV5IiwiU3VydmV5IiwiTW9kZWwiLCJsb2NhbGUiLCJvbkNvbXBsZXRlIiwiYWRkIiwic3VibWl0VG9TZXJ2ZXIiLCJzaG93RGF0YVNhdmluZ1N1Y2Nlc3MiLCJzaG93RGF0YVNhdmluZ0Vycm9yIiwic3VibWl0RGF0YSIsIiRkYXRhIiwicGFyc2VkRm9ybSIsInBhcnNlZFN1cnZleSIsImNsb25lZERhdGEiLCJKU09OIiwic3RyaW5naWZ5IiwiZm9ybVJlc2V0IiwiJHJlZnMiLCJvYnMiLCJyZXNldCIsImZvcm1IYW5kbGVTdWJtaXQiLCJlIiwicHJldmVudERlZmF1bHQiLCJvblN1Y2Nlc3MiLCJvbkVycm9yIiwidm0iLCJvYnNlcnZlciIsInZhbGlkYXRlIiwidGhlbiIsInZhbGlkIiwiYWN0aW9uIiwiZ2V0QXR0cmlidXRlIiwiZnJtRGF0YSIsIl9fUmVxdWVzdFZlcmlmaWNhdGlvblRva2VuIiwicXVlcnlTZWxlY3RvciIsImdyZWNhcHRjaGEiLCJyZWNhcHRjaGEiLCJnZXRSZXNwb25zZSIsImZvcm1EYXRhIiwiJCIsImZpbmQiLCJlYWNoIiwiZmlsZXMiLCJmaWxlIiwiYWpheCIsInVybCIsImNhY2hlIiwiZGF0YVR5cGUiLCJwcm9jZXNzRGF0YSIsImNvbnRlbnRUeXBlIiwic3VjY2VzcyIsImRlYnVnIiwidmFsaWRhdGlvbkVycm9yIiwiZXJyb3JzIiwic3VibWl0VmFsaWRhdGlvbkVycm9yIiwic2V0RXJyb3JzIiwicmVkaXJlY3QiLCJsb2NhdGlvbiIsImhyZWYiLCJlcnJvciIsInhociIsInN0YXR1c1RleHQiLCJzdGF0dXMiLCJyZWdleCIsInNlcnZlclJlc3BvbnNlRXJyb3IiLCJyZXNwb25zZVRleHQiLCJyZXBsYWNlIiwiaW5pdFNjcmlwdCIsImluaXRGbiIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsImVsZW0iLCJlbCIsInZ1ZXRpZnkiLCJWdWV0aWZ5Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsQ0FBQyxZQUFZO0FBQ1gsTUFBTUEsV0FBVyxHQUFHLFNBQWRBLFdBQWMsQ0FBQ0MsS0FBRDtBQUFBLFdBQVdBLEtBQUssS0FBS0MsU0FBckI7QUFBQSxHQUFwQjs7QUFFQSxNQUFNQyxNQUFNLEdBQUcsU0FBVEEsTUFBUyxDQUFDRixLQUFEO0FBQUEsV0FBV0EsS0FBSyxLQUFLLElBQXJCO0FBQUEsR0FBZjs7QUFFQSxNQUFNRyxTQUFTLEdBQUcsU0FBWkEsU0FBWSxDQUFDSCxLQUFEO0FBQUEsV0FBVyxPQUFPQSxLQUFQLEtBQWlCLFNBQTVCO0FBQUEsR0FBbEI7O0FBRUEsTUFBTUksUUFBUSxHQUFHLFNBQVhBLFFBQVcsQ0FBQ0osS0FBRDtBQUFBLFdBQVdBLEtBQUssS0FBS0ssTUFBTSxDQUFDTCxLQUFELENBQTNCO0FBQUEsR0FBakI7O0FBRUEsTUFBTU0sT0FBTyxHQUFHLFNBQVZBLE9BQVUsQ0FBQ04sS0FBRDtBQUFBLFdBQVdPLEtBQUssQ0FBQ0QsT0FBTixDQUFjTixLQUFkLENBQVg7QUFBQSxHQUFoQjs7QUFFQSxNQUFNUSxNQUFNLEdBQUcsU0FBVEEsTUFBUyxDQUFDUixLQUFEO0FBQUEsV0FBV0EsS0FBSyxZQUFZUyxJQUE1QjtBQUFBLEdBQWY7O0FBRUEsTUFBTUMsTUFBTSxHQUFHLFNBQVRBLE1BQVMsQ0FBQ1YsS0FBRDtBQUFBLFdBQ2JBLEtBQUssSUFDTCxPQUFPQSxLQUFLLENBQUNXLElBQWIsS0FBc0IsUUFEdEIsSUFF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QUFDTjhILE1BQUFBLEVBQUUsRUFBRUQsSUFERTtBQUVORSxNQUFBQSxPQUFPLEVBQUUsSUFBSUMsT0FBSjtBQUZILEtBQVI7QUFJRCxHQUxEO0FBT0QsQ0FmRCIsImZpbGUiOiJ2dWUtZm9ybXMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKCkge1xyXG4gIGNvbnN0IGlzVW5kZWZpbmVkID0gKHZhbHVlKSA9PiB2YWx1ZSA9PT0gdW5kZWZpbmVkO1xyXG5cclxuICBjb25zdCBpc051bGwgPSAodmFsdWUpID0+IHZhbHVlID09PSBudWxsO1xyXG5cclxuICBjb25zdCBpc0Jvb2xlYW4gPSAodmFsdWUpID0+IHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nO1xyXG5cclxuICBjb25zdCBpc09iamVjdCA9ICh2YWx1ZSkgPT4gdmFsdWUgPT09IE9iamVjdCh2YWx1ZSk7XHJcblxyXG4gIGNvbnN0IGlzQXJyYXkgPSAodmFsdWUpID0+IEFycmF5LmlzQXJyYXkodmFsdWUpO1xyXG5cclxuICBjb25zdCBpc0RhdGUgPSAodmFsdWUpID0+IHZhbHVlIGluc3RhbmNlb2YgRGF0ZTtcclxuXHJcbiAgY29uc3QgaXNCbG9iID0gKHZhbHVlKSA9PlxyXG4gICAgdmFsdWUgJiZcclxuICAgIHR5cGVvZiB2YWx1ZS5zaXplID09PSAnbnVtYmVyJyAmJlxyXG4gICAgdHlwZW9mIHZhbHVlLnR5cGUgPT09ICdzdHJpbmcnICYmXHJcbiAgICB0eXBlb2YgdmFsdWUuc2xpY2UgPT09ICdmdW5jdGlvbic7XHJcblxyXG4gIGNvbnN0IGlzRmlsZSA9ICh2YWx1ZSkgPT5cclxuICAgIGlzQmxvYih2YWx1ZSkgJiZcclxuICAgIHR5cGVvZiB2YWx1ZS5uYW1lID09PSAnc3RyaW5nJyAmJlxyXG4gICAgKHR5cGVvZiB2YWx1ZS5sYXN0TW9kaWZpZWREYXRlID09PSAnb2JqZWN0JyB8fFxyXG4gICAgICB0eXBlb2YgdmFsdWUubGFzdE1vZGlmaWVkID09PSAnbnVtYmVyJyk7XHJcblxyXG4gIGNvbnN0IHNlcmlhbGl6ZSA9IChvYmosIGNmZywgZmQsIHByZSkgPT4ge1xyXG4gICAgY2ZnID0gY2ZnIHx8IHt9O1xyXG5cclxuICAgIGNmZy5pbmRpY2VzID0gaXNVbmRlZmluZWQoY2ZnLmluZGljZXMpID8gZmFsc2UgOiBjZmcuaW5kaWNlcztcclxuXHJcbiAgICBjZmcubnVsbHNBc1VuZGVmaW5lZHMgPSBpc1VuZGVmaW5lZChjZmcubnVsbHNBc1VuZGVmaW5lZHMpXHJcbiAgICAgID8gZmFsc2VcclxuICAgICAgOiBjZmcubnVsbHNBc1VuZGVmaW5lZHM7XHJcblxyXG4gICAgY2ZnLmJvb2xlYW5zQXNJbnRlZ2VycyA9IGlzVW5kZWZpbmVkKGNmZy5ib29sZWFuc0FzSW50ZWdlcnMpXHJcbiAgICAgID8gZmFsc2VcclxuICAgICAgOiBjZmcuYm9vbGVhbnNBc0ludGVnZXJzO1xyXG5cclxuICAgIGNmZy5hbGxvd0VtcHR5QXJyYXlzID0gaXNVbmRlZmluZWQoY2ZnLmFsbG93RW1wdHlBcnJheXMpXHJcbiAgICAgID8gZmFsc2VcclxuICAgICAgOiBjZmcuYWxsb3dFbXB0eUFycmF5cztcclxuXHJcbiAgICBmZCA9IGZkIHx8IG5ldyBGb3JtRGF0YSgpO1xyXG5cclxuICAgIGlmIChpc1VuZGVmaW5lZChvYmopKSB7XHJcbiAgICAgIHJldHVybiBmZDtcclxuICAgIH0gZWxzZSBpZiAoaXNOdWxsKG9iaikpIHtcclxuICAgICAgaWYgKCFjZmcubnVsbHNBc1VuZGVmaW5lZHMpIHtcclxuICAgICAgICBmZC5hcHBlbmQocHJlLCAnJyk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAoaXNCb29sZWFuKG9iaikpIHtcclxuICAgICAgaWYgKGNmZy5ib29sZWFuc0FzSW50ZWdlcnMpIHtcclxuICAgICAgICBmZC5hcHBlbmQocHJlLCBvYmogPyAxIDogMCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZmQuYXBwZW5kKHByZSwgb2JqKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChpc0FycmF5KG9iaikpIHtcclxuICAgICAgaWYgKG9iai5sZW5ndGgpIHtcclxuICAgICAgICBvYmouZm9yRWFjaCgodmFsdWUsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBrZXkgPSBwcmUgKyAnWycgKyAoY2ZnLmluZGljZXMgPyBpbmRleCA6ICcnKSArICddJztcclxuXHJcbiAgICAgICAgICBzZXJpYWxpemUodmFsdWUsIGNmZywgZmQsIGtleSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gZWxzZSBpZiAoY2ZnLmFsbG93RW1wdHlBcnJheXMpIHtcclxuICAgICAgICBmZC5hcHBlbmQocHJlICsgJ1tdJywgJycpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKGlzRGF0ZShvYmopKSB7XHJcbiAgICAgIGZkLmFwcGVuZChwcmUsIG9iai50b0lTT1N0cmluZygpKTtcclxuICAgIH0gZWxzZSBpZiAoaXNPYmplY3Qob2JqKSAmJiAhaXNGaWxlKG9iaikgJiYgIWlzQmxvYihvYmopKSB7XHJcbiAgICAgIE9iamVjdC5rZXlzKG9iaikuZm9yRWFjaCgocHJvcCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gb2JqW3Byb3BdO1xyXG5cclxuICAgICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcclxuICAgICAgICAgIHdoaWxlIChwcm9wLmxlbmd0aCA+IDIgJiYgcHJvcC5sYXN0SW5kZXhPZignW10nKSA9PT0gcHJvcC5sZW5ndGggLSAyKSB7XHJcbiAgICAgICAgICAgIHByb3AgPSBwcm9wLnN1YnN0cmluZygwLCBwcm9wLmxlbmd0aCAtIDIpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3Qga2V5ID0gcHJlID8gcHJlICsgJ1snICsgcHJvcCArICddJyA6IHByb3A7XHJcblxyXG4gICAgICAgIHNlcmlhbGl6ZSh2YWx1ZSwgY2ZnLCBmZCwga2V5KTtcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBmZC5hcHBlbmQocHJlLCBvYmopO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBmZDtcclxuICB9O1xyXG4gIHdpbmRvdy5zZXJpYWxpemVUb0Zvcm1EYXRhID0gc2VyaWFsaXplO1xyXG59KSgpO1xyXG4iLCJcclxuLy8gcmVnaXN0ZXIgVmVlVmFsaWRhdGUgY29tcG9uZW50cyBnbG9iYWxseVxyXG5WdWUuY29tcG9uZW50KCd2YWxpZGF0aW9uLXByb3ZpZGVyJywgVmVlVmFsaWRhdGUuVmFsaWRhdGlvblByb3ZpZGVyKTtcclxuVnVlLmNvbXBvbmVudCgndmFsaWRhdGlvbi1vYnNlcnZlcicsIFZlZVZhbGlkYXRlLlZhbGlkYXRpb25PYnNlcnZlcik7IFxyXG5cclxuLy8gaW5jbHVkZSBkZWZhdWx0IGVuZ2xpc2ggYW5kIGZyZW5jaCB0cmFuc2xhdGlvbnMuXHJcblZlZVZhbGlkYXRlLmxvY2FsaXplKHtcclxuICBlbjp7XHJcbiAgICBcImNvZGVcIjogXCJlblwiLFxyXG4gICAgXCJtZXNzYWdlc1wiOiB7XHJcbiAgICAgIFwiYWxwaGFcIjogXCJUaGUge19maWVsZF99IGZpZWxkIG1heSBvbmx5IGNvbnRhaW4gYWxwaGFiZXRpYyBjaGFyYWN0ZXJzXCIsXHJcbiAgICAgIFwiYWxwaGFfbnVtXCI6IFwiVGhlIHtfZmllbGRffSBmaWVsZCBtYXkgb25seSBjb250YWluIGFscGhhLW51bWVyaWMgY2hhcmFjdGVyc1wiLFxyXG4gICAgICBcImFscGhhX2Rhc2hcIjogXCJUaGUge19maWVsZF99IGZpZWxkIG1heSBjb250YWluIGFscGhhLW51bWVyaWMgY2hhcmFjdGVycyBhcyB3ZWxsIGFzIGRhc2hlcyBhbmQgdW5kZXJzY29yZXNcIixcclxuICAgICAgXCJhbHBoYV9zcGFjZXNcIjogXCJUaGUge19maWVsZF99IGZpZWxkIG1heSBvbmx5IGNvbnRhaW4gYWxwaGFiZXRpYyBjaGFyYWN0ZXJzIGFzIHdlbGwgYXMgc3BhY2VzXCIsXHJcbiAgICAgIFwiYmV0d2VlblwiOiBcIlRoZSB7X2ZpZWxkX30gZmllbGQgbXVzdCBiZSBiZXR3ZWVuIHttaW59IGFuZCB7bWF4fVwiLFxyXG4gICAgICBcImNvbmZpcm1lZFwiOiBcIlRoZSB7X2ZpZWxkX30gZmllbGQgY29uZmlybWF0aW9uIGRvZXMgbm90IG1hdGNoXCIsXHJcbiAgICAgIFwiZGlnaXRzXCI6IFwiVGhlIHtfZmllbGRffSBmaWVsZCBtdXN0IGJlIG51bWVyaWMgYW5kIGV4YWN0bHkgY29udGFpbiB7bGVuZ3RofSBkaWdpdHNcIixcclxuICAgICAgXCJkaW1lbnNpb25zXCI6IFwiVGhlIHtfZmllbGRffSBmaWVsZCBtdXN0IGJlIHt3aWR0aH0gcGl4ZWxzIGJ5IHtoZWlnaHR9IHBpeGVsc1wiLFxyXG4gICAgICBcImVtYWlsXCI6IFwiVGhlIHtfZmllbGRffSBmaWVsZCBtdXN0IGJlIGEgdmFsaWQgZW1haWxcIixcclxuICAgICAgXCJleGNsdWRlZFwiOiBcIlRoZSB7X2ZpZWxkX30gZmllbGQgaXMgbm90IGEgdmFsaWQgdmFsdWVcIixcclxuICAgICAgXCJleHRcIjogXCJUaGUge19maWVsZF99IGZpZWxkIGlzIG5vdCBhIHZhbGlkIGZpbGVcIixcclxuICAgICAgXCJpbWFnZVwiOiBcIlRoZSB7X2ZpZWxkX30gZmllbGQgbXVzdCBiZSBhbiBpbWFnZVwiLFxyXG4gICAgICBcImludGVnZXJcIjogXCJUaGUge19maWVsZF99IGZpZWxkIG11c3QgYmUgYW4gaW50ZWdlclwiLFxyXG4gICAgICBcImxlbmd0aFwiOiBcIlRoZSB7X2ZpZWxkX30gZmllbGQgbXVzdCBiZSB7bGVuZ3RofSBsb25nXCIsXHJcbiAgICAgIFwibWF4X3ZhbHVlXCI6IFwiVGhlIHtfZmllbGRffSBmaWVsZCBtdXN0IGJlIHttYXh9IG9yIGxlc3NcIixcclxuICAgICAgXCJtYXhcIjogXCJUaGUge19maWVsZF99IGZpZWxkIG1heSBub3QgYmUgZ3JlYXRlciB0aGFuIHtsZW5ndGh9IGNoYXJhY3RlcnNcIixcclxuICAgICAgXCJtaW1lc1wiOiBcIlRoZSB7X2ZpZWxkX30gZmllbGQgbXVzdCBoYXZlIGEgdmFsaWQgZmlsZSB0eXBlXCIsXHJcbiAgICAgIFwibWluX3ZhbHVlXCI6IFwiVGhlIHtfZmllbGRffSBmaWVsZCBtdXN0IGJlIHttaW59IG9yIG1vcmVcIixcclxuICAgICAgXCJtaW5cIjogXCJUaGUge19maWVsZF99IGZpZWxkIG11c3QgYmUgYXQgbGVhc3Qge2xlbmd0aH0gY2hhcmFjdGVyc1wiLFxyXG4gICAgICBcIm51bWVyaWNcIjogXCJUaGUge19maWVsZF99IGZpZWxkIG1heSBvbmx5IGNvbnRhaW4gbnVtZXJpYyBjaGFyYWN0ZXJzXCIsXHJcbiAgICAgIFwib25lT2ZcIjogXCJUaGUge19maWVsZF99IGZpZWxkIGlzIG5vdCBhIHZhbGlkIHZhbHVlXCIsXHJcbiAgICAgIFwicmVnZXhcIjogXCJUaGUge19maWVsZF99IGZpZWxkIGZvcm1hdCBpcyBpbnZhbGlkXCIsXHJcbiAgICAgIFwicmVxdWlyZWRfaWZcIjogXCJUaGUge19maWVsZF99IGZpZWxkIGlzIHJlcXVpcmVkXCIsXHJcbiAgICAgIFwicmVxdWlyZWRcIjogXCJUaGUge19maWVsZF99IGZpZWxkIGlzIHJlcXVpcmVkXCIsXHJcbiAgICAgIFwic2l6ZVwiOiBcIlRoZSB7X2ZpZWxkX30gZmllbGQgc2l6ZSBtdXN0IGJlIGxlc3MgdGhhbiB7c2l6ZX1LQlwiXHJcbiAgICB9XHJcbiAgfSxcclxuICBmcjoge1xyXG4gICAgXCJjb2RlXCI6IFwiZnJcIixcclxuICAgIFwibWVzc2FnZXNcIjoge1xyXG4gICAgICBcImFscGhhXCI6IFwiTGUgY2hhbXAge19maWVsZF99IG5lIHBldXQgY29udGVuaXIgcXVlIGRlcyBsZXR0cmVzXCIsXHJcbiAgICAgIFwiYWxwaGFfbnVtXCI6IFwiTGUgY2hhbXAge19maWVsZF99IG5lIHBldXQgY29udGVuaXIgcXVlIGRlcyBjYXJhY3TDqHJlcyBhbHBoYS1udW3DqXJpcXVlc1wiLFxyXG4gICAgICBcImFscGhhX2Rhc2hcIjogXCJMZSBjaGFtcCB7X2ZpZWxkX30gbmUgcGV1dCBjb250ZW5pciBxdWUgZGVzIGNhcmFjdMOocmVzIGFscGhhLW51bcOpcmlxdWVzLCB0aXJldHMgb3Ugc291bGlnbsOpc1wiLFxyXG4gICAgICBcImFscGhhX3NwYWNlc1wiOiBcIkxlIGNoYW1wIHtfZmllbGRffSBuZSBwZXV0IGNvbnRlbmlyIHF1ZSBkZXMgbGV0dHJlcyBvdSBkZXMgZXNwYWNlc1wiLFxyXG4gICAgICBcImJldHdlZW5cIjogXCJMZSBjaGFtcCB7X2ZpZWxkX30gZG9pdCDDqnRyZSBjb21wcmlzIGVudHJlIHttaW59IGV0IHttYXh9XCIsXHJcbiAgICAgIFwiY29uZmlybWVkXCI6IFwiTGUgY2hhbXAge19maWVsZF99IG5lIGNvcnJlc3BvbmQgcGFzXCIsXHJcbiAgICAgIFwiZGlnaXRzXCI6IFwiTGUgY2hhbXAge19maWVsZF99IGRvaXQgw6p0cmUgdW4gbm9tYnJlIGVudGllciBkZSB7bGVuZ3RofSBjaGlmZnJlc1wiLFxyXG4gICAgICBcImRpbWVuc2lvbnNcIjogXCJMZSBjaGFtcCB7X2ZpZWxkX30gZG9pdCBhdm9pciB1bmUgdGFpbGxlIGRlIHt3aWR0aH0gcGl4ZWxzIHBhciB7aGVpZ2h0fSBwaXhlbHNcIixcclxuICAgICAgXCJlbWFpbFwiOiBcIkxlIGNoYW1wIHtfZmllbGRffSBkb2l0IMOqdHJlIHVuZSBhZHJlc3NlIGUtbWFpbCB2YWxpZGVcIixcclxuICAgICAgXCJleGNsdWRlZFwiOiBcIkxlIGNoYW1wIHtfZmllbGRffSBkb2l0IMOqdHJlIHVuZSB2YWxldXIgdmFsaWRlXCIsXHJcbiAgICAgIFwiZXh0XCI6IFwiTGUgY2hhbXAge19maWVsZF99IGRvaXQgw6p0cmUgdW4gZmljaGllciB2YWxpZGVcIixcclxuICAgICAgXCJpbWFnZVwiOiBcIkxlIGNoYW1wIHtfZmllbGRffSBkb2l0IMOqdHJlIHVuZSBpbWFnZVwiLFxyXG4gICAgICBcImludGVnZXJcIjogXCJMZSBjaGFtcCB7X2ZpZWxkX30gZG9pdCDDqnRyZSB1biBlbnRpZXJcIixcclxuICAgICAgXCJsZW5ndGhcIjogXCJMZSBjaGFtcCB7X2ZpZWxkX30gZG9pdCBjb250ZW5pciB7bGVuZ3RofSBjYXJhY3TDqHJlc1wiLFxyXG4gICAgICBcIm1heF92YWx1ZVwiOiBcIkxlIGNoYW1wIHtfZmllbGRffSBkb2l0IGF2b2lyIHVuZSB2YWxldXIgZGUge21heH0gb3UgbW9pbnNcIixcclxuICAgICAgXCJtYXhcIjogXCJMZSBjaGFtcCB7X2ZpZWxkX30gbmUgcGV1dCBwYXMgY29udGVuaXIgcGx1cyBkZSB7bGVuZ3RofSBjYXJhY3TDqHJlc1wiLFxyXG4gICAgICBcIm1pbWVzXCI6IFwiTGUgY2hhbXAge19maWVsZF99IGRvaXQgYXZvaXIgdW4gdHlwZSBNSU1FIHZhbGlkZVwiLFxyXG4gICAgICBcIm1pbl92YWx1ZVwiOiBcIkxlIGNoYW1wIHtfZmllbGRffSBkb2l0IGF2b2lyIHVuZSB2YWxldXIgZGUge21pbn0gb3UgcGx1c1wiLFxyXG4gICAgICBcIm1pblwiOiBcIkxlIGNoYW1wIHtfZmllbGRffSBkb2l0IGNvbnRlbmlyIGF1IG1pbmltdW0ge2xlbmd0aH0gY2FyYWN0w6hyZXNcIixcclxuICAgICAgXCJudW1lcmljXCI6IFwiTGUgY2hhbXAge19maWVsZF99IG5lIHBldXQgY29udGVuaXIgcXVlIGRlcyBjaGlmZnJlc1wiLFxyXG4gICAgICBcIm9uZU9mXCI6IFwiTGUgY2hhbXAge19maWVsZF99IGRvaXQgw6p0cmUgdW5lIHZhbGV1ciB2YWxpZGVcIixcclxuICAgICAgXCJyZWdleFwiOiBcIkxlIGNoYW1wIHtfZmllbGRffSBlc3QgaW52YWxpZGVcIixcclxuICAgICAgXCJyZXF1aXJlZFwiOiBcIkxlIGNoYW1wIHtfZmllbGRffSBlc3Qgb2JsaWdhdG9pcmVcIixcclxuICAgICAgXCJyZXF1aXJlZF9pZlwiOiBcIkxlIGNoYW1wIHtfZmllbGRffSBlc3Qgb2JsaWdhdG9pcmUgbG9yc3F1ZSB7dGFyZ2V0fSBwb3Nzw6hkZSBjZXR0ZSB2YWxldXJcIixcclxuICAgICAgXCJzaXplXCI6IFwiTGUgY2hhbXAge19maWVsZF99IGRvaXQgYXZvaXIgdW4gcG9pZHMgaW5mw6lyaWV1ciDDoCB7c2l6ZX1LQlwiXHJcbiAgICB9XHJcbiAgfSxcclxufSk7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBkZWNvZGVVbmljb2RlKHN0cikge1xuICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KFxuICAgIGF0b2Ioc3RyKVxuICAgICAgLnNwbGl0KFwiXCIpXG4gICAgICAubWFwKGZ1bmN0aW9uIChjKSB7XG4gICAgICAgIHJldHVybiBcIiVcIiArIChcIjAwXCIgKyBjLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpKS5zbGljZSgtMik7XG4gICAgICB9KVxuICAgICAgLmpvaW4oXCJcIilcbiAgKTtcbn1cblxuLy8gcnVuIGluaXQgc2NyaXB0XG5mdW5jdGlvbiBpbml0Rm9ybShhcHApIHtcbiAgLy8gU2V0IFZlZVZhbGlkYXRlIGxhbmd1YWdlIGJhc2VkIG9uIHRoZSBsYW5nIHBhcmFtZXRlclxuICBWZWVWYWxpZGF0ZS5sb2NhbGl6ZShhcHAuZGF0YXNldC5sYW5nKTtcblxuICAvLyBvcHRpb25zIG9iamVjdCBjb21pbmcgZnJvbSB0aGUgT0MgYWRtaW5cbiAgbGV0IGNvbXBvbmVudE9wdGlvbnMgPSBhcHAuZGF0YXNldC5vcHRpb25zO1xuXG4gIGxldCBwYXJzZWRPcHRpb25zID0ge307XG4gIGlmIChjb21wb25lbnRPcHRpb25zKSB7XG4gICAgY29uc3QgZm4gPSBuZXcgRnVuY3Rpb24oYHJldHVybiAoJHtkZWNvZGVVbmljb2RlKGNvbXBvbmVudE9wdGlvbnMpfSk7YCk7XG4gICAgcGFyc2VkT3B0aW9ucyA9IGZuKCk7XG4gICAgaWYgKCFwYXJzZWRPcHRpb25zKSB7XG4gICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgXCJDb3VsZCBub3QgcGFyc2UgdGhlIGNvbXBvbmVudE9wdGlvbnMgb2JqZWN0LiBNYWtlIHN1cmUgeW91ciBvYmplY3QgaXMgd2VsbCBmb3JtZWQuXCJcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgY29uc3Qge1xuICAgIGRhdGE6IHBhcnNlZERhdGEsXG4gICAgbWV0aG9kczogcGFyc2VkTWV0aG9kcyxcbiAgICBjcmVhdGVkOiBwYXJzZWRDcmVhdGVkLFxuICAgIC4uLnBhcnNlZFJlc3RcbiAgfSA9IHBhcnNlZE9wdGlvbnM7XG4gIGxldCBvYmpEYXRhID0gcGFyc2VkRGF0YTtcbiAgaWYgKHR5cGVvZiBwYXJzZWREYXRhID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBvYmpEYXRhID0gcGFyc2VkRGF0YSgpO1xuICB9XG5cbiAgY29uc3QgZGVmYXVsdEZvcm1EYXRhID0ge1xuICAgIHN1Ym1pdHRpbmc6IGZhbHNlLFxuICAgIHN1Ym1pdFN1Y2Nlc3M6IGZhbHNlLFxuICAgIHN1Y2Nlc3NNZXNzYWdlOiB1bmRlZmluZWQsXG4gICAgc3VibWl0RXJyb3I6IGZhbHNlLFxuICAgIHN1Ym1pdFZhbGlkYXRpb25FcnJvcnM6IGZhbHNlLFxuICAgIHNlcnZlclZhbGlkYXRpb25NZXNzYWdlOiB1bmRlZmluZWQsXG4gICAgc2VydmVyRXJyb3JNZXNzYWdlOiB1bmRlZmluZWQsXG4gICAgcmVzcG9uc2VEYXRhOiB1bmRlZmluZWQsXG4gIH07XG5cbiAgY29uc3QgY29tcG9uZW50VGVtcGxhdGUgPSBkZWNvZGVVbmljb2RlKGFwcC5kYXRhc2V0LnRlbXBsYXRlKTtcbiAgY29uc3Qgc3VydmV5SnNvbiA9IGRlY29kZVVuaWNvZGUoYXBwLmRhdGFzZXQuc3VydmV5SnNvbilcbiAgVnVlLmNvbXBvbmVudChhcHAuZGF0YXNldC5uYW1lLCBmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgIHJlc29sdmUoe1xuICAgICAgLy8gRmlyc3QgYmVjYXVzZSB0aGUgZWxlbWVudHMgYmVsb3cgd2lsbCBvdmVycmlkZVxuICAgICAgLi4ucGFyc2VkUmVzdCxcbiAgICAgIHRlbXBsYXRlOiBgJHtjb21wb25lbnRUZW1wbGF0ZX1gLFxuICAgICAgZGF0YTogZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCBkYXRhT2JqID0ge1xuICAgICAgICAgIC4uLm9iakRhdGEsXG4gICAgICAgICAgZm9ybTogeyAuLi5kZWZhdWx0Rm9ybURhdGEgfVxuICAgICAgICB9O1xuICAgICAgICBpZihzdXJ2ZXlKc29uKVxuICAgICAgICB7XG4gICAgICAgICAgZGF0YU9iai5zdXJ2ZXkgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkYXRhT2JqO1xuICAgICAgfSxcbiAgICAgIGNyZWF0ZWQgKCkge1xuICAgICAgICBpZihzdXJ2ZXlKc29uKVxuICAgICAgICB7XG4gICAgICAgICAgdmFyIHN1cnZleSA9IG5ldyBTdXJ2ZXkuTW9kZWwoc3VydmV5SnNvbik7XG4gICAgICAgICAgc3VydmV5LmxvY2FsZSA9IGFwcC5kYXRhc2V0Lmxhbmc7XG4gICAgICAgICAgc3VydmV5Lm9uQ29tcGxldGUuYWRkKChvcHRpb25zKSA9PiB7XG4gICAgICAgICAgICAvLyB0b2RvIGFkZCBsb2dpYyB0aGF0IGhpZGVzIHRoZSBidXR0b25cbiAgICAgICAgICAgIHRoaXMuc3VibWl0VG9TZXJ2ZXIob3B0aW9ucy5zaG93RGF0YVNhdmluZ1N1Y2Nlc3MsIG9wdGlvbnMuc2hvd0RhdGFTYXZpbmdFcnJvcik7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdGhpcy5zdXJ2ZXkgPSBzdXJ2ZXk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZXhlY3V0ZSB0aGUgY3JlYXRlZCBmdW5jdGlvbiBjcmVhdGVkIGluIHRoZSBhZG1pblxuICAgICAgICBpZiAodHlwZW9mIHBhcnNlZENyZWF0ZWQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgIHBhcnNlZENyZWF0ZWQoKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG1ldGhvZHM6IHtcbiAgICAgICAgLy8gZGVmYXVsdCBtZXRob2QgdGhhdCByZXR1cm4gdGhlIGRhdGEgdG8gYmUgc3VibWl0dGVkIHRvIHRoZSBzZXJ2ZXJcbiAgICAgICAgLy8gdGhpcyB3YXMgYWRkZWQgZmlyc3QgdG8gYWxsb3cgdGhlIEFkbWluaXN0cmF0b3IgdG8gZWRpdCB0aGlzIGZ1bmN0aW9uIG9uIHRoZSBPQyBBZG1pblxuICAgICAgICBzdWJtaXREYXRhKCkge1xuICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGZvcm06IHBhcnNlZEZvcm0sXG4gICAgICAgICAgICBzdXJ2ZXk6IHBhcnNlZFN1cnZleSxcbiAgICAgICAgICAgIC4uLmNsb25lZERhdGFcbiAgICAgICAgICB9ID0gdGhpcy4kZGF0YTtcbiAgICAgICAgICBpZihzdXJ2ZXlKc29uKVxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNsb25lZERhdGFbXCJfX3N1cnZleURhdGFfX1wiXSA9IEpTT04uc3RyaW5naWZ5KHRoaXMuc3VydmV5LmRhdGEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gY2xvbmVkRGF0YVxuICAgICAgICB9LFxuICAgICAgICAuLi5wYXJzZWRNZXRob2RzLFxuICAgICAgICBmb3JtUmVzZXQoKSB7XG4gICAgICAgICAgdGhpcy5mb3JtID0geyAuLi5kZWZhdWx0Rm9ybURhdGEgfTtcbiAgICAgICAgICAvLyBhbHNvIHJlc2V0IHRoZSBWZWVWYWxpZGF0ZSBvYnNlcnZlclxuICAgICAgICAgIHRoaXMuJHJlZnMub2JzLnJlc2V0KCk7XG4gICAgICAgIH0sXG4gICAgICAgIGZvcm1IYW5kbGVTdWJtaXQoZSkge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB0aGlzLnN1Ym1pdFRvU2VydmVyKCk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9LFxuICAgICAgICBzdWJtaXRUb1NlcnZlcihvblN1Y2Nlc3MgPSAoKSA9PiB7fSwgb25FcnJvciA9ICgpID0+IHt9KSB7XG4gICAgICAgICAgY29uc3Qgdm0gPSB0aGlzO1xuICAgICAgICAgIC8vIGtlZXAgYSByZWZlcmVuY2UgdG8gdGhlIFZlZVZhbGlkYXRlIG9ic2VydmVyXG4gICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSB2bS4kcmVmcy5vYnM7XG4gICAgICAgICAgb2JzZXJ2ZXIudmFsaWRhdGUoKS50aGVuKCh2YWxpZCkgPT4ge1xuICAgICAgICAgICAgaWYgKHZhbGlkKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGFjdGlvbiA9IHZtLiRyZWZzLmZvcm0uZ2V0QXR0cmlidXRlKFwiYWN0aW9uXCIpO1xuICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIHNldCBmb3JtIHZ1ZSBkYXRhXG4gICAgICAgICAgICAgIHZtLmZvcm0uc3VibWl0dGluZyA9IHRydWU7XG5cbiAgICAgICAgICAgICAgbGV0IGZybURhdGEgPSB2bS5zdWJtaXREYXRhKCk7XG4gICAgICAgICAgICAgIGZybURhdGEuX19SZXF1ZXN0VmVyaWZpY2F0aW9uVG9rZW4gPSB2bS4kcmVmcy5mb3JtLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgICAgICAgJ2lucHV0W25hbWU9XCJfX1JlcXVlc3RWZXJpZmljYXRpb25Ub2tlblwiXSdcbiAgICAgICAgICAgICAgKS52YWx1ZTtcbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBncmVjYXB0Y2hhID09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICBmcm1EYXRhLnJlY2FwdGNoYSA9IGdyZWNhcHRjaGEuZ2V0UmVzcG9uc2UoKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGxldCBmb3JtRGF0YSA9IHdpbmRvdy5zZXJpYWxpemVUb0Zvcm1EYXRhKGZybURhdGEpO1xuXG4gICAgICAgICAgICAgIC8vIGl0ZXJhdGUgYWxsIGZpbGUgaW5wdXRzIGFuZCBhZGQgdGhlIGZpbGVzIHRvIHRoZSByZXF1ZXN0XG4gICAgICAgICAgICAgICQodGhpcy4kcmVmcy5mb3JtKS5maW5kKFwiaW5wdXRbdHlwZT1maWxlXVwiKS5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBmaWxlIG9mIHRoaXMuZmlsZXMpIHtcbiAgICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZChmaWxlLm5hbWUsIGZpbGUpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgIHVybDogYWN0aW9uLFxuICAgICAgICAgICAgICAgIGRhdGE6IGZvcm1EYXRhLFxuICAgICAgICAgICAgICAgIGNhY2hlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsIC8vIGV4cGVjdCBqc29uIGZyb20gdGhlIHNlcnZlclxuICAgICAgICAgICAgICAgIHByb2Nlc3NEYXRhOiBmYWxzZSwgLy90ZWxsIGpxdWVyeSBub3QgdG8gcHJvY2VzcyBkYXRhXG4gICAgICAgICAgICAgICAgY29udGVudFR5cGU6IGZhbHNlLCAvL3RlbGwganF1ZXJ5IG5vdCB0byBzZXQgY29udGVudC10eXBlXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlRGF0YSkge1xuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICBpZihyZXNwb25zZURhdGEuZGVidWcpXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRGVidWcgb2JqZWN0OiBcIiwgcmVzcG9uc2VEYXRhLmRlYnVnKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHZtLmZvcm0gPSB7IC4uLmRlZmF1bHRGb3JtRGF0YSB9O1xuICAgICAgICAgICAgICAgICAgdm0uZm9ybS5yZXNwb25zZURhdGEgPSByZXNwb25zZURhdGE7XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZXJlIGFyZSB2YWxpZGF0aW9uIGVycm9ycyBvbiB0aGUgZm9ybSwgZGlzcGxheSB0aGVtLlxuICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlRGF0YS52YWxpZGF0aW9uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgLy9sZWdhY3lcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlRGF0YS5lcnJvcnNbXCJzZXJ2ZXJWYWxpZGF0aW9uTWVzc2FnZVwiXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgdm0uZm9ybS5zZXJ2ZXJWYWxpZGF0aW9uTWVzc2FnZSA9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEuZXJyb3JzW1wic2VydmVyVmFsaWRhdGlvbk1lc3NhZ2VcIl07XG4gICAgICAgICAgICAgICAgICAgICAgb25FcnJvcih2bS5mb3JtLnNlcnZlclZhbGlkYXRpb25NZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2bS5mb3JtLnN1Ym1pdFZhbGlkYXRpb25FcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLnNldEVycm9ycyhyZXNwb25zZURhdGEuZXJyb3JzKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAvLyBpZiB0aGUgc2VydmVyIHNlbmRzIGEgcmVkaXJlY3QsIHJlbG9hZCB0aGUgd2luZG93XG4gICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2VEYXRhLnJlZGlyZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gcmVzcG9uc2VEYXRhLnJlZGlyZWN0O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIHZtLmZvcm0uc3VibWl0U3VjY2VzcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICB2bS5mb3JtLnN1Y2Nlc3NNZXNzYWdlID0gcmVzcG9uc2VEYXRhLnN1Y2Nlc3NNZXNzYWdlO1xuICAgICAgICAgICAgICAgICAgb25TdWNjZXNzKHZtLmZvcm0uc3VjY2Vzc01lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIsIHN0YXR1c1RleHQpIHtcbiAgICAgICAgICAgICAgICAgIHZtLmZvcm0gPSB7IC4uLmRlZmF1bHRGb3JtRGF0YSB9O1xuICAgICAgICAgICAgICAgICAgdm0uZm9ybS5zdWJtaXRFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICB2bS5mb3JtLnNlcnZlckVycm9yTWVzc2FnZSA9IGAke3hoci5zdGF0dXN9ICR7c3RhdHVzVGV4dH1gO1xuICAgICAgICAgICAgICAgICAgY29uc3QgcmVnZXggPSAvXFxcXG58XFxcXHJcXFxcbnxcXFxcblxcXFxyfFxcXFxyL2c7XG4gICAgICAgICAgICAgICAgICB2bS5mb3JtLnNlcnZlclJlc3BvbnNlRXJyb3IgPSB4aHIucmVzcG9uc2VUZXh0LnJlcGxhY2UocmVnZXgsICc8YnI+Jyk7XG4gICAgICAgICAgICAgICAgICBvbkVycm9yKHZtLmZvcm0uc2VydmVyUmVzcG9uc2VFcnJvcik7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gcnVuIHRoZSB2dWUtZm9ybSBpbml0IHNjcmlwdCBwcm92aWRlZCBpbiB0aGUgT0MgYWRtaW4gdWlcbiAgbGV0IGluaXRTY3JpcHQgPSBhcHAuZGF0YXNldC5pbml0U2NyaXB0O1xuICBpZiAoaW5pdFNjcmlwdCkge1xuICAgIGNvbnN0IGluaXRGbiA9IG5ldyBGdW5jdGlvbihkZWNvZGVVbmljb2RlKGluaXRTY3JpcHQpKTtcbiAgICBpbml0Rm4oKTtcbiAgfVxufVxuXG4vLyBsb29rIGZvciBhbGwgdnVlIGZvcm1zIHdoZW4gdGhpcyBzY3JpcHQgaXMgbG9hZGVkIGFuZCBpbml0aWFsaXplIHRoZW1cbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudnVlLWZvcm1cIikuZm9yRWFjaChpbml0Rm9ybSk7XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIGZ1bmN0aW9uIChldmVudCkge1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudnVlLWFwcC1pbnN0YW5jZVwiKS5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgbmV3IFZ1ZSh7XG4gICAgICBlbDogZWxlbSxcbiAgICB9KTtcbiAgfSk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi52dWV0aWZ5LWFwcC1pbnN0YW5jZVwiKS5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgbmV3IFZ1ZSh7XG4gICAgICBlbDogZWxlbSxcbiAgICAgIHZ1ZXRpZnk6IG5ldyBWdWV0aWZ5KCksXG4gICAgfSk7XG4gIH0pO1xuXG59KTtcbiJdfQ==
